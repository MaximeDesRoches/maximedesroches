{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/asap/browser-asap.js","node_modules/asap/browser-raw.js","node_modules/promise/index.js","node_modules/promise/lib/core.js","node_modules/promise/lib/done.js","node_modules/promise/lib/es6-extensions.js","node_modules/promise/lib/finally.js","node_modules/promise/lib/index.js","node_modules/promise/lib/node-extensions.js","node_modules/promise/lib/synchronous.js","src/app/InteractiveVideo.js","src/app/LinearVideo.js","src/app/Main.js","src/app/Step.js","src/app/utils/DrawSVG.min.js","src/app/utils/EventDispatcher.js","src/app/utils/ieDetect.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/NA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AAEA;;;;;;;;;;AAEA,IAAM,SAAS,4BAAf;;AAEA,SAAS,UAAT,CAAoB,EAApB,EAAwB,EAAxB,EAA4B,CAA5B,EAA+B;AAC9B,qBACK,EADL,SACW,EADX,gBAEK,CAAC,CAFN,mBAGK,CAHL,SAGU,CAHV,eAGsB,IAAI,CAH1B,kBAIK,CAJL,SAIU,CAJV,eAIqB,EAAE,IAAI,CAAN,CAJrB;AAMA;;IAEK,M;AACL,iBAAY,IAAZ,EAAkB;AAAA;;AAAA;;AAAA,OA8ClB,MA9CkB,GA8CT;AAAA,UAAM,MAAK,IAAL,CAAU,OAAhB;AAAA,GA9CS;;AACjB,OAAK,IAAL,GAAY,IAAZ;;AAEA,OAAK,IAAL,GAAY,SAAS,eAAT,CAAyB,MAAzB,EAAiC,MAAjC,CAAZ;AACA,OAAK,IAAL,CAAU,KAAV,GAAkB,IAAlB;AACA,OAAK,IA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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jsâ€™s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","'use strict';\n\nmodule.exports = require('./lib')\n","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._75 = 0;\n  this._83 = 0;\n  this._18 = null;\n  this._38 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._47 = null;\nPromise._71 = null;\nPromise._44 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._83 === 3) {\n    self = self._18;\n  }\n  if (Promise._47) {\n    Promise._47(self);\n  }\n  if (self._83 === 0) {\n    if (self._75 === 0) {\n      self._75 = 1;\n      self._38 = deferred;\n      return;\n    }\n    if (self._75 === 1) {\n      self._75 = 2;\n      self._38 = [self._38, deferred];\n      return;\n    }\n    self._38.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._83 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._83 === 1) {\n        resolve(deferred.promise, self._18);\n      } else {\n        reject(deferred.promise, self._18);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._18);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._83 = 3;\n      self._18 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._83 = 1;\n  self._18 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._83 = 2;\n  self._18 = newValue;\n  if (Promise._71) {\n    Promise._71(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._75 === 1) {\n    handle(self, self._38);\n    self._38 = null;\n  }\n  if (self._75 === 2) {\n    for (var i = 0; i < self._38.length; i++) {\n      handle(self, self._38[i]);\n    }\n    self._38 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._44);\n  p._83 = 1;\n  p._18 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._83 === 3) {\n            val = val._18;\n          }\n          if (val._83 === 1) return res(i, val._18);\n          if (val._83 === 2) reject(val._18);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype['finally'] = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._83 === 3) {\n      return this._18.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._18;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._83 === 3) {\n      return this._18.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._18;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._83 === 3) {\n      return this._18.getState();\n    }\n    if (this._83 === -1 || this._83 === -2) {\n      return 0;\n    }\n\n    return this._83;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n","'format es6';\n'use strict';\n\nimport Promise from 'promise';\nimport gsap, { TweenMax } from 'gsap';\nimport DrawSVG from './utils/DrawSVG.min';\nimport { isIE } from './utils/ieDetect';\n\nimport { Step, ENDED } from './Step';\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nfunction makeCircle(cx, cy, r) {\n\treturn `\n\t\tM ${cx} ${cy}\n\t\tm ${-r}, 0\n\t\ta ${r},${r} 0 1,0 ${(r * 2)},0\n\t\ta ${r},${r} 0 1,0 ${-(r * 2)},0\n\t`;\n}\n\nclass Button {\n\tconstructor(data) {\n\t\tthis.data = data;\n\t\t\n\t\tthis.node = document.createElementNS(SVG_NS, 'path');\n\t\tthis.node.__btn = this;\n\t\tthis.node.setAttributeNS(null, 'd', makeCircle(data.x, data.y, data.r));\n\t\tthis.node.setAttributeNS(null, 'stroke', `rgba(255,255,255,${data.opacity})`);\n\t\tthis.node.setAttributeNS(null, 'fill', 'rgba(255,255,255,0)');\n\t\tthis.node.setAttributeNS(null, 'stroke-width', 8);\n\n\t\tthis.label = document.createElementNS(SVG_NS, 'text');\n\t\tthis.label.textContent = data.text_fr;\n\n\t\tif (data.label_pos === 'top') {\n\t\t\tthis.label.setAttributeNS(null, 'x', data.x);\n\t\t\tthis.label.setAttributeNS(null, 'y', data.y - data.r - 30);\n\t\t\tthis.label.setAttributeNS(null, 'text-anchor', 'middle');\n\t\t} else {\n\t\t\tthis.label.setAttributeNS(null, 'x', data.x + data.r + 30);\n\t\t\tthis.label.setAttributeNS(null, 'y', data.y);\n\t\t\tthis.label.setAttributeNS(null, 'text-anchor', 'start');\n\t\t}\n\n\t\tthis.node.style.transformOrigin = `50% 50%`;\n\t\t// TweenMax.set(this.node, { scale: 1, 'transform-origin':  });\n\t}\n\n\tanimateIn(delay) {\n\t\tif (!isIE) {\n\t\t\tTweenMax.from(this.node, 0.6, { drawSVG: '0%', ease: gsap.Sine.easeInOut, delay });\n\t\t} else {\n\t\t\tTweenMax.from(this.node, 0.3, { opacity: 0, ease: gsap.Sine.easeOut, delay });\n\t\t}\n\t}\n\n\tattach(ctn) {\n\t\tctn.appendChild(this.node);\n\t\tctn.appendChild(this.label);\n\t}\n\n\tremove() {\n\t\tthis.video.pause();\n\t\tthis.node.parentNode.removeChild(this.node);\n\t\tthis.label.parentNode.removeChild(this.label);\n\t}\n\n\tisGood = () => this.data.is_good;\n}\n\nfunction svgRemoveClass(elem, className) {\n\tif (elem.classList) {\n\t\telem.classList.remove(className);\n\t} else {\n\t\tconst c = elem.getAttribute('class');\n\t\telem.setAttribute('class', c.replace(className, '').trim());\n\t}\n}\n\nfunction svgAddClass(elem, className) {\n\tif (elem.classList) {\n\t\telem.classList.add(className);\n\t} else {\n\t\tconst c = elem.getAttribute('class');\n\t\telem.setAttribute('class', `${c} ${className}`);\n\t}\n}\n\nexport class InteractiveVideo extends Step {\n\tconstructor(infos) {\n\t\tsuper(infos);\n\t\tthis.video.loop = true;\n\t}\n\t\n\tvideoPromise = (state = 'success') => {\n\t\tthis.dispatchEvent({ type: ENDED, state });\n\t}\n\n\tsetListeners() {\n\t\tthis.onEnded = new Promise((resolve) => {\n\t\t\tthis.endedResolve = resolve;\n\t\t});\n\t}\n\n\tonClickButton = (e) => {\n\t\tconst clickedButton = e.currentTarget;\n\n\t\tlet index = -1;\n\t\tthis.clickedButtons.some((button, i) => {\n\t\t\tif (button === clickedButton.__btn) {\n\t\t\t\tindex = i;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tconst id = index;\n\t\tif (id >= 0) {\n\t\t\tsvgRemoveClass(clickedButton, 'selected');\n\t\t\tthis.clickedButtons.splice(id, 1);\n\t\t} else {\n\t\t\tthis.clickedButtons.push(clickedButton.__btn);\n\t\t\tsvgAddClass(clickedButton, 'selected');\n\t\t}\n\n\t\tif (this.clickedButtons.length === this.goodButtons.length) {\n\t\t\tconst validate = this.goodButtons.filter(button => this.clickedButtons.find(btn => btn === button));\n\t\t\t// this.onEnded();\n\t\t\tthis.endedResolve(validate.length === this.goodButtons.length ? 'success' : 'fail');\n\t\t}\n\t}\n\t\n\tstart = () => {\n\t\tthis.setListeners();\n\t\tthis.video.currentTime = 0;\n\t\tthis.video.setAttribute('preload', 'preload');\n\t\tthis.video.setAttribute('autoplay', 'autoplay');\n\t\tthis.video.play();\n\n\t\tthis.caption = document.createElement('div');\n\t\tthis.caption.classList.add('caption');\n\t\tthis.caption.classList.add(this.description_position);\n\t\tthis.caption.innerHTML = this.description;\n\t\tthis.node.appendChild(this.caption);\n\n\t\tthis.svg = document.createElementNS(SVG_NS, 'svg');\n\t\tthis.svg.setAttributeNS(null, 'viewBox', '0 0 1920 1080');\n\t\tTweenMax.set(this.svg, {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t});\n\n\t\tthis.node.appendChild(this.svg);\n\n\t\tthis.goodButtons = [];\n\t\tthis.clickedButtons = [];\n\t\tthis.buttons = [];\n\t\tthis.choices.forEach((choice, i) => {\n\t\t\tconst btn = new Button(choice);\n\n\t\t\tbtn.node.addEventListener('click', this.onClickButton);\n\n\t\t\tbtn.attach(this.svg);\n\t\t\tbtn.animateIn(1 + (i * 0.1));\n\n\t\t\tif (btn.isGood()) {\n\t\t\t\tthis.goodButtons.push(btn);\n\t\t\t}\n\t\t});\n\t}\n\n\tremove() {\n\t\tthis.removeListeners();\n\t\tthis.buttons.forEach((btn) => {\n\t\t\tbtn.node.removeEventListener('click', this.onClickButton);\n\t\t\tbtn.remove();\n\t\t});\n\t\tthis.svg.parentNode.removeChild(this.svg);\n\t\tthis.node.parentNode.removeChild(this.node);\n\t}\n}\n","'format es6';\n'use strict';\n\nimport Promise from 'promise';\nimport { Step, ENDED } from './Step';\n\nexport const VIDEO_ENDED = 'video_ended';\n\nexport class LinearVideo extends Step {\n\tvideoPromise = () => {\n\t\tthis.endedResolve();\n\t}\n\n\tsetListeners() {\n\t\tthis.onEnded = new Promise((resolve) => {\n\t\t\tthis.endedResolve = resolve;\n\t\t\tthis.video.addEventListener('ended', this.videoPromise);\n\t\t});\n\t}\n\t\n\tstart() {\n\t\tthis.setListeners();\n\t\tthis.video.currentTime = 0;\n\t\tthis.video.setAttribute('preload', 'preload');\n\t\tthis.video.setAttribute('autoplay', 'autoplay');\n\t\tthis.video.play();\n\t}\n\n\tremove() {\n\t\tthis.removeListeners();\n\t\tthis.video.removeEventListener('ended', this.videoPromise);\n\n\t\tif (this.node.parentNode) {\n\t\t\tthis.node.parentNode.removeChild(this.node);\n\t\t}\n\t}\n}\n","'format es6';\n'use strict';\n\nimport 'babel-polyfill';\nimport { TweenMax } from 'gsap';\nimport Promise from 'promise';\nimport $ from 'jquery';\nimport { Step, VIDEO, INTERACTIVE, ENDED } from './Step';\nimport { LinearVideo } from './LinearVideo';\nimport { InteractiveVideo } from './InteractiveVideo';\n\n$(document).ready(() => {\n\tconst app = document.querySelector('#app');\n\tconst startApp = document.querySelector('#startApp');\n\tconst volume = document.querySelector('#volume');\n\tconst startUI = document.querySelector('.start-ui');\n\n\tconst styles = document.createElement('style');\n\tapp.appendChild(styles);\n\tstyles.innerHTML = '';\n\n\tconst steps = [];\n\n\tlet currentStep = null;\n\n\tfunction getStepBySlug(slug) {\n\t\treturn steps.find(step => step.slug === slug);\n\t}\n\t\n\tfunction preloadNextSteps(step) {\n\t\tconst nextSteps = [\n\t\t\tgetStepBySlug(step.next),\n\t\t\tgetStepBySlug(step.success),\n\t\t\tgetStepBySlug(step.fail),\n\t\t];\n\n\t\tnextSteps.filter(s => s).forEach((s) => {\n\t\t\tconsole.log('preloading', s.slug);\n\t\t\tconst canplay = () => {\n\t\t\t\ts.video.removeEventListener('canplay', canplay);\n\t\t\t};\n\t\t\ts.video.addEventListener('canplay', canplay);\n\t\t\ts.video.preload = 'auto';\n\t\t\ts.preattach(app, true);\n\t\t});\n\t}\n\n\tfunction manageVolume() {\n\t\tvolume.classList.toggle('muted');\n\t\tconst isMuted = volume.classList.contains('muted');\n\t\tsteps.forEach((s) => {\n\t\t\ts.video.muted = isMuted;\n\t\t});\n\t}\n\n\tfunction onResize() {\n\t\tconst width = window.innerWidth\n\t\t\t|| document.documentElement.clientWidth\n\t\t\t|| document.body.clientWidth;\n\n\t\tconst height = window.innerHeight\n\t\t\t|| document.documentElement.clientHeight\n\t\t\t|| document.body.clientHeight;\n\n\t\tlet computedWidth = width;\n\t\tlet computedMargin = 0;\n\n\t\tif (height < width / 16 * 9) {\n\t\t\tcomputedWidth = height / 9 * 16;\n\t\t\tcomputedMargin = (width - computedWidth) / 2;\n\t\t}\n\n\t\tstyles.innerHTML = `.ctn-step { \n\t\t\twidth: ${computedWidth}px;\n\t\t\tmargin-left: ${computedMargin}px;\n\t\t}`;\n\t}\n\t\n\tfunction doStep(step) {\n\t\tstep.attach(app);\n\t\tcurrentStep = step;\n\n\t\tstep.onEnded.then((e = null) => {\n\t\t\tstep.remove();\n\t\t\tlet nextId = step.next;\n\t\t\tif (e) {\n\t\t\t\tnextId = step[e];\n\t\t\t}\n\t\t\tconst next = getStepBySlug(nextId);\n\t\t\tif (!next) {\n\t\t\t\t//alert('end');\n\t\t\t\twindow.location.href = 'http://canada.arcelormittal.com/';\n\t\t\t} else {\n\t\t\t\tdoStep(next);\n\t\t\t}\n\t\t}).catch((e) => {\n\t\t\tconsole.log(e);\n\t\t\tconsole.trace();\n\t\t});\n\n\t\tpreloadNextSteps(step);\n\t}\n\n\tfunction onStart() {\n\t\tdoStep(steps[0]);\n\t\tTweenMax.set(startUI, { display: 'none' });\n\t\tTweenMax.set(volume, { display: '' });\n\t}\n\n\tTweenMax.set(startUI, { display: 'none' });\n\tTweenMax.set(volume, { display: 'none' });\n\n\t$.ajax({\n\t\turl: './js/manifest.json',\n\t\tsuccess: (data) => {\n\t\t\tdata.forEach((step) => {\n\t\t\t\tswitch (step.type) {\n\t\t\t\tdefault:\n\t\t\t\tcase VIDEO:\n\t\t\t\t\tsteps.push(new LinearVideo(step));\n\t\t\t\t\tbreak;\n\t\t\t\tcase INTERACTIVE:\n\t\t\t\t\tsteps.push(new InteractiveVideo(step));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\tTweenMax.set(startUI, { display: '' });\n\t\t},\n\t});\n\t\n\tdocument.addEventListener('keypress', (e) => {\n\t\tif (currentStep && (e.keyCode === 32 || e.which === 32)) {\n\t\t\tcurrentStep.video.currentTime = currentStep.video.duration - 2.5 || currentStep.video.currentTime;\n\t\t}\n\t});\n\t\n\twindow.addEventListener('resize', onResize);\n\tonResize();\n\tstartApp.addEventListener('click', onStart);\n\tvolume.addEventListener('click', manageVolume);\n});\n","'format es6';\n'use strict';\n\nimport EventDispatcher from './utils/EventDispatcher';\n\nexport const ENDED = 'step_ended';\n\nexport const VIDEO = 'video';\nexport const INTERACTIVE = 'interactive';\n\nexport class Step extends EventDispatcher {\n\tinfosToProps(infos) {\n\t\tObject.keys(infos).forEach((k) => {\n\t\t\tthis[k] = infos[k];\n\t\t});\n\t}\n\n\tonClickPlayPause = () => {\n\t\tthis.playPause.classList.toggle('playing');\n\n\t\tif (this.playPause.classList.contains('playing')) {\n\t\t\tthis.video.play();\n\t\t} else {\n\t\t\tthis.video.pause();\n\t\t}\n\t}\n\t\n\tconstructor(infos) {\n\t\tsuper();\n\t\t\n\t\tthis.infosToProps(infos);\n\n\t\tthis.node = document.createElement('div');\n\t\tthis.node.classList.add('ctn-step');\n\n\t\tthis.video = document.createElement('video');\n\n\t\tconst prefix = ~window.location.href.indexOf('workspace') ? 'videos/' : 'https://s3.amazonaws.com/arcelor-security-videos/';\n\n\t\tthis.video.src = prefix + this.video_src;\n\t\t// this.video.playbackRate = 3.0;\n\t\tthis.video.setAttribute('webkit-playsinline', 'webkit-playsinline');\n\t\tthis.video.setAttribute('playsinline', 'playsinline');\n\t\tthis.video.preload = 'none';\n\t\tthis.node.appendChild(this.video);\n\n\t\tthis.playPause = document.createElement('div');\n\t\tthis.playPause.classList.add('play-pause', 'playing');\n\t\tthis.node.appendChild(this.playPause);\n\n\t\tthis.playPause.removeEventListener('click', this.onClickPlayPause);\n\t\tthis.playPause.addEventListener('click', this.onClickPlayPause);\n\n\t\tthis.init();\n\t}\n\n\tinit() {}\n\tsetListeners() {}\n\tstart() {}\n\tremove() {}\n\n\tpreattach = (el, hidden = false) => {\n\t\tconsole.log('pre-attaching', this.slug);\n\t\tel.appendChild(this.node);\n\t\tthis.node.classList[hidden ? 'add' : 'remove']('inactive');\n\t}\n\n\tattach(el) {\n\t\tthis.preattach(el);\n\t\tthis.start();\n\t}\n}\n","/*!\n * VERSION: 0.0.5\n * DATE: 2015-05-19\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.\n * DrawSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use\n * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.\n * This work is subject to the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n */\nvar _gsScope=\"undefined\"!=typeof module&&module.exports&&\"undefined\"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){\"use strict\";function t(t,e,i,r){return i=parseFloat(i)-parseFloat(t),r=parseFloat(r)-parseFloat(e),Math.sqrt(i*i+r*r)}function e(t){return\"string\"!=typeof t&&t.nodeType||(t=_gsScope.TweenLite.selector(t),t.length&&(t=t[0])),t}function i(t,e,i){var r,s,n=t.indexOf(\" \");return-1===n?(r=void 0!==i?i+\"\":t,s=t):(r=t.substr(0,n),s=t.substr(n+1)),r=-1!==r.indexOf(\"%\")?parseFloat(r)/100*e:parseFloat(r),s=-1!==s.indexOf(\"%\")?parseFloat(s)/100*e:parseFloat(s),r>s?[s,r]:[r,s]}function r(i){if(!i)return 0;i=e(i);var r,s,n,a,o,l,h,u,f=i.tagName.toLowerCase();if(\"path\"===f)o=i.style.strokeDasharray,i.style.strokeDasharray=\"none\",r=i.getTotalLength()||0,i.style.strokeDasharray=o;else if(\"rect\"===f)s=i.getBBox(),r=2*(s.width+s.height);else if(\"circle\"===f)r=2*Math.PI*parseFloat(i.getAttribute(\"r\"));else if(\"line\"===f)r=t(i.getAttribute(\"x1\"),i.getAttribute(\"y1\"),i.getAttribute(\"x2\"),i.getAttribute(\"y2\"));else if(\"polyline\"===f||\"polygon\"===f)for(n=i.getAttribute(\"points\").split(\" \"),r=0,o=n[0].split(\",\"),\"polygon\"===f&&(n.push(n[0]),-1===n[0].indexOf(\",\")&&n.push(n[1])),l=1;n.length>l;l++)a=n[l].split(\",\"),1===a.length&&(a[1]=n[l++]),2===a.length&&(r+=t(o[0],o[1],a[0],a[1])||0,o=a);else\"ellipse\"===f&&(h=parseFloat(i.getAttribute(\"rx\")),u=parseFloat(i.getAttribute(\"ry\")),r=Math.PI*(3*(h+u)-Math.sqrt((3*h+u)*(h+3*u))));return r||0}function s(t,i){if(!t)return[0,0];t=e(t),i=i||r(t)+1;var s=a(t),n=s.strokeDasharray||\"\",o=parseFloat(s.strokeDashoffset),l=n.indexOf(\",\");return 0>l&&(l=n.indexOf(\" \")),n=0>l?i:parseFloat(n.substr(0,l))||1e-5,n>i&&(n=i),[Math.max(0,-o),n-o]}var n,a=document.defaultView?document.defaultView.getComputedStyle:function(){};n=_gsScope._gsDefine.plugin({propName:\"drawSVG\",API:2,version:\"0.0.5\",global:!0,overwriteProps:[\"drawSVG\"],init:function(t,e){if(!t.getBBox)return!1;var n,a,o,l=r(t)+1;return this._style=t.style,e===!0||\"true\"===e?e=\"0 100%\":e?-1===(e+\"\").indexOf(\" \")&&(e=\"0 \"+e):e=\"0 0\",n=s(t,l),a=i(e,l,n[0]),this._length=l+10,0===n[0]&&0===a[0]?(o=Math.max(1e-5,a[1]-l),this._dash=l+o,this._offset=l-n[1]+o,this._addTween(this,\"_offset\",this._offset,l-a[1]+o,\"drawSVG\")):(this._dash=n[1]-n[0]||1e-6,this._offset=-n[0],this._addTween(this,\"_dash\",this._dash,a[1]-a[0]||1e-5,\"drawSVG\"),this._addTween(this,\"_offset\",this._offset,-a[0],\"drawSVG\")),!0},set:function(t){this._firstPT&&(this._super.setRatio.call(this,t),this._style.strokeDashoffset=this._offset,this._style.strokeDasharray=(1===t||0===t)&&.001>this._offset&&10>=this._length-this._dash?\"none\":this._dash+\"px,\"+this._length+\"px\")}}),n.getLength=r,n.getPosition=s}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nexport default function EventDispatcher() {}\n\nObject.assign(EventDispatcher.prototype, {\n\taddEventListener(type, listener) {\n\t\tif (this._listeners === undefined) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif (listeners[type] === undefined) {\n\t\t\tlisteners[type] = [];\n\t\t}\n\n\t\tif (listeners[type].indexOf(listener) === -1) {\n\t\t\tlisteners[type].push(listener);\n\t\t}\n\t},\n\n\thasEventListener(type, listener) {\n\t\tif (this._listeners === undefined) return false;\n\t\tconst listeners = this._listeners;\n\t\treturn listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\t},\n\n\tremoveListeners() {\n\t\tthis._listeners = undefined;\n\t},\n\n\tremoveEventListener(type, listener) {\n\t\tif (this._listeners === undefined) return;\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[type];\n\n\t\tif (listenerArray !== undefined) {\n\t\t\tconst index = listenerArray.indexOf(listener);\n\n\t\t\tif (index !== -1) {\n\t\t\t\tlistenerArray.splice(index, 1);\n\t\t\t}\n\t\t}\n\t},\n\n\tdispatchEvent(event) {\n\t\tif (this._listeners === undefined) return;\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[event.type];\n\n\t\tif (listenerArray !== undefined) {\n\t\t\tevent.target = this;\n\t\t\tconst array = listenerArray.slice(0);\n\t\t\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\t\t\tarray[i].call(this, event);\n\t\t\t}\n\t\t}\n\t},\n\n});\n","function detectIE() {\n\tvar ua = window.navigator.userAgent;\n  \n\t// Test values; Uncomment to check result â€¦\n  \n\t// IE 10\n\t// ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n\t\n\t// IE 11\n\t// ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n\t\n\t// Edge 12 (Spartan)\n\t// ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n\t\n\t// Edge 13\n\t// ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n  \n\tvar msie = ua.indexOf('MSIE ');\n\tif (msie > 0) {\n\t  // IE 10 or older => return version number\n\t  return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n\t}\n  \n\tvar trident = ua.indexOf('Trident/');\n\tif (trident > 0) {\n\t  // IE 11 => return version number\n\t  var rv = ua.indexOf('rv:');\n\t  return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n\t}\n  \n\tvar edge = ua.indexOf('Edge/');\n\tif (edge > 0) {\n\t  // Edge (IE 12+) => return version number\n\t  return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n\t}\n  \n\t// other browser\n\treturn false;\n  }\n\nexport const isIE = detectIE();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYXNhcC9icm93c2VyLWFzYXAuanMiLCJub2RlX21vZHVsZXMvYXNhcC9icm93c2VyLXJhdy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL2NvcmUuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvZG9uZS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9lczYtZXh0ZW5zaW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9maW5hbGx5LmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL25vZGUtZXh0ZW5zaW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9zeW5jaHJvbm91cy5qcyIsInNyYy9hcHAvSW50ZXJhY3RpdmVWaWRlby5qcyIsInNyYy9hcHAvTGluZWFyVmlkZW8uanMiLCJzcmMvYXBwL01haW4uanMiLCJzcmMvYXBwL1N0ZXAuanMiLCJzcmMvYXBwL3V0aWxzL0RyYXdTVkcubWluLmpzIiwic3JjL2FwcC91dGlscy9FdmVudERpc3BhdGNoZXIuanMiLCJzcmMvYXBwL3V0aWxzL2llRGV0ZWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDL05BO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QW9ELEVBQXBELENBQVA7QUFDRDs7QUFFRCxLQUFJLE9BQU8sR0FBRyxPQUFILENBQVcsT0FBWCxDQUFYO0FBQ0EsS0FBSSxPQUFPLENBQVgsRUFBYztBQUNaO0FBQ0EsU0FBTyxTQUFTLEdBQUcsU0FBSCxDQUFhLE9BQU8sQ0FBcEIsRUFBdUIsR0FBRyxPQUFILENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUF2QixDQUFULEVBQXdELEVBQXhELENBQVA7QUFDRDs7QUFFRDtBQUNBLFFBQU8sS0FBUDtBQUNFOztBQUVJLElBQU0sc0JBQU8sVUFBYiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmF3QXNhcCBwcm92aWRlcyBldmVyeXRoaW5nIHdlIG5lZWQgZXhjZXB0IGV4Y2VwdGlvbiBtYW5hZ2VtZW50LlxudmFyIHJhd0FzYXAgPSByZXF1aXJlKFwiLi9yYXdcIik7XG4vLyBSYXdUYXNrcyBhcmUgcmVjeWNsZWQgdG8gcmVkdWNlIEdDIGNodXJuLlxudmFyIGZyZWVUYXNrcyA9IFtdO1xuLy8gV2UgcXVldWUgZXJyb3JzIHRvIGVuc3VyZSB0aGV5IGFyZSB0aHJvd24gaW4gcmlnaHQgb3JkZXIgKEZJRk8pLlxuLy8gQXJyYXktYXMtcXVldWUgaXMgZ29vZCBlbm91Z2ggaGVyZSwgc2luY2Ugd2UgYXJlIGp1c3QgZGVhbGluZyB3aXRoIGV4Y2VwdGlvbnMuXG52YXIgcGVuZGluZ0Vycm9ycyA9IFtdO1xudmFyIHJlcXVlc3RFcnJvclRocm93ID0gcmF3QXNhcC5tYWtlUmVxdWVzdENhbGxGcm9tVGltZXIodGhyb3dGaXJzdEVycm9yKTtcblxuZnVuY3Rpb24gdGhyb3dGaXJzdEVycm9yKCkge1xuICAgIGlmIChwZW5kaW5nRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBwZW5kaW5nRXJyb3JzLnNoaWZ0KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxzIGEgdGFzayBhcyBzb29uIGFzIHBvc3NpYmxlIGFmdGVyIHJldHVybmluZywgaW4gaXRzIG93biBldmVudCwgd2l0aCBwcmlvcml0eVxuICogb3ZlciBvdGhlciBldmVudHMgbGlrZSBhbmltYXRpb24sIHJlZmxvdywgYW5kIHJlcGFpbnQuIEFuIGVycm9yIHRocm93biBmcm9tIGFuXG4gKiBldmVudCB3aWxsIG5vdCBpbnRlcnJ1cHQsIG5vciBldmVuIHN1YnN0YW50aWFsbHkgc2xvdyBkb3duIHRoZSBwcm9jZXNzaW5nIG9mXG4gKiBvdGhlciBldmVudHMsIGJ1dCB3aWxsIGJlIHJhdGhlciBwb3N0cG9uZWQgdG8gYSBsb3dlciBwcmlvcml0eSBldmVudC5cbiAqIEBwYXJhbSB7e2NhbGx9fSB0YXNrIEEgY2FsbGFibGUgb2JqZWN0LCB0eXBpY2FsbHkgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vXG4gKiBhcmd1bWVudHMuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gYXNhcDtcbmZ1bmN0aW9uIGFzYXAodGFzaykge1xuICAgIHZhciByYXdUYXNrO1xuICAgIGlmIChmcmVlVGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHJhd1Rhc2sgPSBmcmVlVGFza3MucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmF3VGFzayA9IG5ldyBSYXdUYXNrKCk7XG4gICAgfVxuICAgIHJhd1Rhc2sudGFzayA9IHRhc2s7XG4gICAgcmF3QXNhcChyYXdUYXNrKTtcbn1cblxuLy8gV2Ugd3JhcCB0YXNrcyB3aXRoIHJlY3ljbGFibGUgdGFzayBvYmplY3RzLiAgQSB0YXNrIG9iamVjdCBpbXBsZW1lbnRzXG4vLyBgY2FsbGAsIGp1c3QgbGlrZSBhIGZ1bmN0aW9uLlxuZnVuY3Rpb24gUmF3VGFzaygpIHtcbiAgICB0aGlzLnRhc2sgPSBudWxsO1xufVxuXG4vLyBUaGUgc29sZSBwdXJwb3NlIG9mIHdyYXBwaW5nIHRoZSB0YXNrIGlzIHRvIGNhdGNoIHRoZSBleGNlcHRpb24gYW5kIHJlY3ljbGVcbi8vIHRoZSB0YXNrIG9iamVjdCBhZnRlciBpdHMgc2luZ2xlIHVzZS5cblJhd1Rhc2sucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdGhpcy50YXNrLmNhbGwoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoYXNhcC5vbmVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGhvb2sgZXhpc3RzIHB1cmVseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICAgICAgICAgIC8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdFxuICAgICAgICAgICAgLy8gZGVwZW5kcyBvbiBpdHMgZXhpc3RlbmNlLlxuICAgICAgICAgICAgYXNhcC5vbmVycm9yKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluIGEgd2ViIGJyb3dzZXIsIGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC4gSG93ZXZlciwgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNsb3dpbmcgZG93biB0aGUgcXVldWUgb2YgcGVuZGluZyB0YXNrcywgd2UgcmV0aHJvdyB0aGUgZXJyb3IgaW4gYVxuICAgICAgICAgICAgLy8gbG93ZXIgcHJpb3JpdHkgdHVybi5cbiAgICAgICAgICAgIHBlbmRpbmdFcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0RXJyb3JUaHJvdygpO1xuICAgICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgZnJlZVRhc2tzW2ZyZWVUYXNrcy5sZW5ndGhdID0gdGhpcztcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFVzZSB0aGUgZmFzdGVzdCBtZWFucyBwb3NzaWJsZSB0byBleGVjdXRlIGEgdGFzayBpbiBpdHMgb3duIHR1cm4sIHdpdGhcbi8vIHByaW9yaXR5IG92ZXIgb3RoZXIgZXZlbnRzIGluY2x1ZGluZyBJTywgYW5pbWF0aW9uLCByZWZsb3csIGFuZCByZWRyYXdcbi8vIGV2ZW50cyBpbiBicm93c2Vycy5cbi8vXG4vLyBBbiBleGNlcHRpb24gdGhyb3duIGJ5IGEgdGFzayB3aWxsIHBlcm1hbmVudGx5IGludGVycnVwdCB0aGUgcHJvY2Vzc2luZyBvZlxuLy8gc3Vic2VxdWVudCB0YXNrcy4gVGhlIGhpZ2hlciBsZXZlbCBgYXNhcGAgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IGlmIGFuXG4vLyBleGNlcHRpb24gaXMgdGhyb3duIGJ5IGEgdGFzaywgdGhhdCB0aGUgdGFzayBxdWV1ZSB3aWxsIGNvbnRpbnVlIGZsdXNoaW5nIGFzXG4vLyBzb29uIGFzIHBvc3NpYmxlLCBidXQgaWYgeW91IHVzZSBgcmF3QXNhcGAgZGlyZWN0bHksIHlvdSBhcmUgcmVzcG9uc2libGUgdG9cbi8vIGVpdGhlciBlbnN1cmUgdGhhdCBubyBleGNlcHRpb25zIGFyZSB0aHJvd24gZnJvbSB5b3VyIHRhc2ssIG9yIHRvIG1hbnVhbGx5XG4vLyBjYWxsIGByYXdBc2FwLnJlcXVlc3RGbHVzaGAgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93bi5cbm1vZHVsZS5leHBvcnRzID0gcmF3QXNhcDtcbmZ1bmN0aW9uIHJhd0FzYXAodGFzaykge1xuICAgIGlmICghcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHJlcXVlc3RGbHVzaCgpO1xuICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgfVxuICAgIC8vIEVxdWl2YWxlbnQgdG8gcHVzaCwgYnV0IGF2b2lkcyBhIGZ1bmN0aW9uIGNhbGwuXG4gICAgcXVldWVbcXVldWUubGVuZ3RoXSA9IHRhc2s7XG59XG5cbnZhciBxdWV1ZSA9IFtdO1xuLy8gT25jZSBhIGZsdXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgbm8gZnVydGhlciBjYWxscyB0byBgcmVxdWVzdEZsdXNoYCBhcmVcbi8vIG5lY2Vzc2FyeSB1bnRpbCB0aGUgbmV4dCBgZmx1c2hgIGNvbXBsZXRlcy5cbnZhciBmbHVzaGluZyA9IGZhbHNlO1xuLy8gYHJlcXVlc3RGbHVzaGAgaXMgYW4gaW1wbGVtZW50YXRpb24tc3BlY2lmaWMgbWV0aG9kIHRoYXQgYXR0ZW1wdHMgdG8ga2lja1xuLy8gb2ZmIGEgYGZsdXNoYCBldmVudCBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLiBgZmx1c2hgIHdpbGwgYXR0ZW1wdCB0byBleGhhdXN0XG4vLyB0aGUgZXZlbnQgcXVldWUgYmVmb3JlIHlpZWxkaW5nIHRvIHRoZSBicm93c2VyJ3Mgb3duIGV2ZW50IGxvb3AuXG52YXIgcmVxdWVzdEZsdXNoO1xuLy8gVGhlIHBvc2l0aW9uIG9mIHRoZSBuZXh0IHRhc2sgdG8gZXhlY3V0ZSBpbiB0aGUgdGFzayBxdWV1ZS4gVGhpcyBpc1xuLy8gcHJlc2VydmVkIGJldHdlZW4gY2FsbHMgdG8gYGZsdXNoYCBzbyB0aGF0IGl0IGNhbiBiZSByZXN1bWVkIGlmXG4vLyBhIHRhc2sgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbnZhciBpbmRleCA9IDA7XG4vLyBJZiBhIHRhc2sgc2NoZWR1bGVzIGFkZGl0aW9uYWwgdGFza3MgcmVjdXJzaXZlbHksIHRoZSB0YXNrIHF1ZXVlIGNhbiBncm93XG4vLyB1bmJvdW5kZWQuIFRvIHByZXZlbnQgbWVtb3J5IGV4aGF1c3Rpb24sIHRoZSB0YXNrIHF1ZXVlIHdpbGwgcGVyaW9kaWNhbGx5XG4vLyB0cnVuY2F0ZSBhbHJlYWR5LWNvbXBsZXRlZCB0YXNrcy5cbnZhciBjYXBhY2l0eSA9IDEwMjQ7XG5cbi8vIFRoZSBmbHVzaCBmdW5jdGlvbiBwcm9jZXNzZXMgYWxsIHRhc2tzIHRoYXQgaGF2ZSBiZWVuIHNjaGVkdWxlZCB3aXRoXG4vLyBgcmF3QXNhcGAgdW5sZXNzIGFuZCB1bnRpbCBvbmUgb2YgdGhvc2UgdGFza3MgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbi8vIElmIGEgdGFzayB0aHJvd3MgYW4gZXhjZXB0aW9uLCBgZmx1c2hgIGVuc3VyZXMgdGhhdCBpdHMgc3RhdGUgd2lsbCByZW1haW5cbi8vIGNvbnNpc3RlbnQgYW5kIHdpbGwgcmVzdW1lIHdoZXJlIGl0IGxlZnQgb2ZmIHdoZW4gY2FsbGVkIGFnYWluLlxuLy8gSG93ZXZlciwgYGZsdXNoYCBkb2VzIG5vdCBtYWtlIGFueSBhcnJhbmdlbWVudHMgdG8gYmUgY2FsbGVkIGFnYWluIGlmIGFuXG4vLyBleGNlcHRpb24gaXMgdGhyb3duLlxuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgd2hpbGUgKGluZGV4IDwgcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgLy8gQWR2YW5jZSB0aGUgaW5kZXggYmVmb3JlIGNhbGxpbmcgdGhlIHRhc2suIFRoaXMgZW5zdXJlcyB0aGF0IHdlIHdpbGxcbiAgICAgICAgLy8gYmVnaW4gZmx1c2hpbmcgb24gdGhlIG5leHQgdGFzayB0aGUgdGFzayB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgIGluZGV4ID0gaW5kZXggKyAxO1xuICAgICAgICBxdWV1ZVtjdXJyZW50SW5kZXhdLmNhbGwoKTtcbiAgICAgICAgLy8gUHJldmVudCBsZWFraW5nIG1lbW9yeSBmb3IgbG9uZyBjaGFpbnMgb2YgcmVjdXJzaXZlIGNhbGxzIHRvIGBhc2FwYC5cbiAgICAgICAgLy8gSWYgd2UgY2FsbCBgYXNhcGAgd2l0aGluIHRhc2tzIHNjaGVkdWxlZCBieSBgYXNhcGAsIHRoZSBxdWV1ZSB3aWxsXG4gICAgICAgIC8vIGdyb3csIGJ1dCB0byBhdm9pZCBhbiBPKG4pIHdhbGsgZm9yIGV2ZXJ5IHRhc2sgd2UgZXhlY3V0ZSwgd2UgZG9uJ3RcbiAgICAgICAgLy8gc2hpZnQgdGFza3Mgb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGV5IGhhdmUgYmVlbiBleGVjdXRlZC5cbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgcGVyaW9kaWNhbGx5IHNoaWZ0IDEwMjQgdGFza3Mgb2ZmIHRoZSBxdWV1ZS5cbiAgICAgICAgaWYgKGluZGV4ID4gY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IHNoaWZ0IGFsbCB2YWx1ZXMgc3RhcnRpbmcgYXQgdGhlIGluZGV4IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAvLyBiZWdpbm5pbmcgb2YgdGhlIHF1ZXVlLlxuICAgICAgICAgICAgZm9yICh2YXIgc2NhbiA9IDAsIG5ld0xlbmd0aCA9IHF1ZXVlLmxlbmd0aCAtIGluZGV4OyBzY2FuIDwgbmV3TGVuZ3RoOyBzY2FuKyspIHtcbiAgICAgICAgICAgICAgICBxdWV1ZVtzY2FuXSA9IHF1ZXVlW3NjYW4gKyBpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZS5sZW5ndGggLT0gaW5kZXg7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBpbmRleCA9IDA7XG4gICAgZmx1c2hpbmcgPSBmYWxzZTtcbn1cblxuLy8gYHJlcXVlc3RGbHVzaGAgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSBzdHJhdGVneSBiYXNlZCBvbiBkYXRhIGNvbGxlY3RlZCBmcm9tXG4vLyBldmVyeSBhdmFpbGFibGUgU2F1Y2VMYWJzIFNlbGVuaXVtIHdlYiBkcml2ZXIgd29ya2VyIGF0IHRpbWUgb2Ygd3JpdGluZy5cbi8vIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLzFtRy01VVlHdXA1cXhHZEVNV2toUDZCV0N6MDUzTlViMkUxUW9VVFUxNnVBL2VkaXQjZ2lkPTc4MzcyNDU5M1xuXG4vLyBTYWZhcmkgNiBhbmQgNi4xIGZvciBkZXNrdG9wLCBpUGFkLCBhbmQgaVBob25lIGFyZSB0aGUgb25seSBicm93c2VycyB0aGF0XG4vLyBoYXZlIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgYnV0IG5vdCB1bi1wcmVmaXhlZCBNdXRhdGlvbk9ic2VydmVyLlxuLy8gTXVzdCB1c2UgYGdsb2JhbGAgb3IgYHNlbGZgIGluc3RlYWQgb2YgYHdpbmRvd2AgdG8gd29yayBpbiBib3RoIGZyYW1lcyBhbmQgd2ViXG4vLyB3b3JrZXJzLiBgZ2xvYmFsYCBpcyBhIHByb3Zpc2lvbiBvZiBCcm93c2VyaWZ5LCBNciwgTXJzLCBvciBNb3AuXG5cbi8qIGdsb2JhbHMgc2VsZiAqL1xudmFyIHNjb3BlID0gdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHNlbGY7XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBzY29wZS5NdXRhdGlvbk9ic2VydmVyIHx8IHNjb3BlLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG5cbi8vIE11dGF0aW9uT2JzZXJ2ZXJzIGFyZSBkZXNpcmFibGUgYmVjYXVzZSB0aGV5IGhhdmUgaGlnaCBwcmlvcml0eSBhbmQgd29ya1xuLy8gcmVsaWFibHkgZXZlcnl3aGVyZSB0aGV5IGFyZSBpbXBsZW1lbnRlZC5cbi8vIFRoZXkgYXJlIGltcGxlbWVudGVkIGluIGFsbCBtb2Rlcm4gYnJvd3NlcnMuXG4vL1xuLy8gLSBBbmRyb2lkIDQtNC4zXG4vLyAtIENocm9tZSAyNi0zNFxuLy8gLSBGaXJlZm94IDE0LTI5XG4vLyAtIEludGVybmV0IEV4cGxvcmVyIDExXG4vLyAtIGlQYWQgU2FmYXJpIDYtNy4xXG4vLyAtIGlQaG9uZSBTYWZhcmkgNy03LjFcbi8vIC0gU2FmYXJpIDYtN1xuaWYgKHR5cGVvZiBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmVxdWVzdEZsdXNoID0gbWFrZVJlcXVlc3RDYWxsRnJvbU11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuXG4vLyBNZXNzYWdlQ2hhbm5lbHMgYXJlIGRlc2lyYWJsZSBiZWNhdXNlIHRoZXkgZ2l2ZSBkaXJlY3QgYWNjZXNzIHRvIHRoZSBIVE1MXG4vLyB0YXNrIHF1ZXVlLCBhcmUgaW1wbGVtZW50ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAsIFNhZmFyaSA1LjAtMSwgYW5kIE9wZXJhXG4vLyAxMS0xMiwgYW5kIGluIHdlYiB3b3JrZXJzIGluIG1hbnkgZW5naW5lcy5cbi8vIEFsdGhvdWdoIG1lc3NhZ2UgY2hhbm5lbHMgeWllbGQgdG8gYW55IHF1ZXVlZCByZW5kZXJpbmcgYW5kIElPIHRhc2tzLCB0aGV5XG4vLyB3b3VsZCBiZSBiZXR0ZXIgdGhhbiBpbXBvc2luZyB0aGUgNG1zIGRlbGF5IG9mIHRpbWVycy5cbi8vIEhvd2V2ZXIsIHRoZXkgZG8gbm90IHdvcmsgcmVsaWFibHkgaW4gSW50ZXJuZXQgRXhwbG9yZXIgb3IgU2FmYXJpLlxuXG4vLyBJbnRlcm5ldCBFeHBsb3JlciAxMCBpcyB0aGUgb25seSBicm93c2VyIHRoYXQgaGFzIHNldEltbWVkaWF0ZSBidXQgZG9lc1xuLy8gbm90IGhhdmUgTXV0YXRpb25PYnNlcnZlcnMuXG4vLyBBbHRob3VnaCBzZXRJbW1lZGlhdGUgeWllbGRzIHRvIHRoZSBicm93c2VyJ3MgcmVuZGVyZXIsIGl0IHdvdWxkIGJlXG4vLyBwcmVmZXJyYWJsZSB0byBmYWxsaW5nIGJhY2sgdG8gc2V0VGltZW91dCBzaW5jZSBpdCBkb2VzIG5vdCBoYXZlXG4vLyB0aGUgbWluaW11bSA0bXMgcGVuYWx0eS5cbi8vIFVuZm9ydHVuYXRlbHkgdGhlcmUgYXBwZWFycyB0byBiZSBhIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMCBNb2JpbGUgKGFuZFxuLy8gRGVza3RvcCB0byBhIGxlc3NlciBleHRlbnQpIHRoYXQgcmVuZGVycyBib3RoIHNldEltbWVkaWF0ZSBhbmRcbi8vIE1lc3NhZ2VDaGFubmVsIHVzZWxlc3MgZm9yIHRoZSBwdXJwb3NlcyBvZiBBU0FQLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2lzc3Vlcy8zOTZcblxuLy8gVGltZXJzIGFyZSBpbXBsZW1lbnRlZCB1bml2ZXJzYWxseS5cbi8vIFdlIGZhbGwgYmFjayB0byB0aW1lcnMgaW4gd29ya2VycyBpbiBtb3N0IGVuZ2luZXMsIGFuZCBpbiBmb3JlZ3JvdW5kXG4vLyBjb250ZXh0cyBpbiB0aGUgZm9sbG93aW5nIGJyb3dzZXJzLlxuLy8gSG93ZXZlciwgbm90ZSB0aGF0IGV2ZW4gdGhpcyBzaW1wbGUgY2FzZSByZXF1aXJlcyBudWFuY2VzIHRvIG9wZXJhdGUgaW4gYVxuLy8gYnJvYWQgc3BlY3RydW0gb2YgYnJvd3NlcnMuXG4vL1xuLy8gLSBGaXJlZm94IDMtMTNcbi8vIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi05XG4vLyAtIGlQYWQgU2FmYXJpIDQuM1xuLy8gLSBMeW54IDIuOC43XG59IGVsc2Uge1xuICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcihmbHVzaCk7XG59XG5cbi8vIGByZXF1ZXN0Rmx1c2hgIHJlcXVlc3RzIHRoYXQgdGhlIGhpZ2ggcHJpb3JpdHkgZXZlbnQgcXVldWUgYmUgZmx1c2hlZCBhc1xuLy8gc29vbiBhcyBwb3NzaWJsZS5cbi8vIFRoaXMgaXMgdXNlZnVsIHRvIHByZXZlbnQgYW4gZXJyb3IgdGhyb3duIGluIGEgdGFzayBmcm9tIHN0YWxsaW5nIHRoZSBldmVudFxuLy8gcXVldWUgaWYgdGhlIGV4Y2VwdGlvbiBoYW5kbGVkIGJ5IE5vZGUuanPigJlzXG4vLyBgcHJvY2Vzcy5vbihcInVuY2F1Z2h0RXhjZXB0aW9uXCIpYCBvciBieSBhIGRvbWFpbi5cbnJhd0FzYXAucmVxdWVzdEZsdXNoID0gcmVxdWVzdEZsdXNoO1xuXG4vLyBUbyByZXF1ZXN0IGEgaGlnaCBwcmlvcml0eSBldmVudCwgd2UgaW5kdWNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgYnkgdG9nZ2xpbmdcbi8vIHRoZSB0ZXh0IG9mIGEgdGV4dCBub2RlIGJldHdlZW4gXCIxXCIgYW5kIFwiLTFcIi5cbmZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRvZ2dsZSA9IDE7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG4gICAgICAgIHRvZ2dsZSA9IC10b2dnbGU7XG4gICAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZTtcbiAgICB9O1xufVxuXG4vLyBUaGUgbWVzc2FnZSBjaGFubmVsIHRlY2huaXF1ZSB3YXMgZGlzY292ZXJlZCBieSBNYWx0ZSBVYmwgYW5kIHdhcyB0aGVcbi8vIG9yaWdpbmFsIGZvdW5kYXRpb24gZm9yIHRoaXMgbGlicmFyeS5cbi8vIGh0dHA6Ly93d3cubm9uYmxvY2tpbmcuaW8vMjAxMS8wNi93aW5kb3duZXh0dGljay5odG1sXG5cbi8vIFNhZmFyaSA2LjAuNSAoYXQgbGVhc3QpIGludGVybWl0dGVudGx5IGZhaWxzIHRvIGNyZWF0ZSBtZXNzYWdlIHBvcnRzIG9uIGFcbi8vIHBhZ2UncyBmaXJzdCBsb2FkLiBUaGFua2Z1bGx5LCB0aGlzIHZlcnNpb24gb2YgU2FmYXJpIHN1cHBvcnRzXG4vLyBNdXRhdGlvbk9ic2VydmVycywgc28gd2UgZG9uJ3QgbmVlZCB0byBmYWxsIGJhY2sgaW4gdGhhdCBjYXNlLlxuXG4vLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tTWVzc2FnZUNoYW5uZWwoY2FsbGJhY2spIHtcbi8vICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuLy8gICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuLy8gICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuLy8gICAgIH07XG4vLyB9XG5cbi8vIEZvciByZWFzb25zIGV4cGxhaW5lZCBhYm92ZSwgd2UgYXJlIGFsc28gdW5hYmxlIHRvIHVzZSBgc2V0SW1tZWRpYXRlYFxuLy8gdW5kZXIgYW55IGNpcmN1bXN0YW5jZXMuXG4vLyBFdmVuIGlmIHdlIHdlcmUsIHRoZXJlIGlzIGFub3RoZXIgYnVnIGluIEludGVybmV0IEV4cGxvcmVyIDEwLlxuLy8gSXQgaXMgbm90IHN1ZmZpY2llbnQgdG8gYXNzaWduIGBzZXRJbW1lZGlhdGVgIHRvIGByZXF1ZXN0Rmx1c2hgIGJlY2F1c2Vcbi8vIGBzZXRJbW1lZGlhdGVgIG11c3QgYmUgY2FsbGVkICpieSBuYW1lKiBhbmQgdGhlcmVmb3JlIG11c3QgYmUgd3JhcHBlZCBpbiBhXG4vLyBjbG9zdXJlLlxuLy8gTmV2ZXIgZm9yZ2V0LlxuXG4vLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tU2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuLy8gICAgICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2spO1xuLy8gICAgIH07XG4vLyB9XG5cbi8vIFNhZmFyaSA2LjAgaGFzIGEgcHJvYmxlbSB3aGVyZSB0aW1lcnMgd2lsbCBnZXQgbG9zdCB3aGlsZSB0aGUgdXNlciBpc1xuLy8gc2Nyb2xsaW5nLiBUaGlzIHByb2JsZW0gZG9lcyBub3QgaW1wYWN0IEFTQVAgYmVjYXVzZSBTYWZhcmkgNi4wIHN1cHBvcnRzXG4vLyBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHRoYXQgaW1wbGVtZW50YXRpb24gaXMgdXNlZCBpbnN0ZWFkLlxuLy8gSG93ZXZlciwgaWYgd2UgZXZlciBlbGVjdCB0byB1c2UgdGltZXJzIGluIFNhZmFyaSwgdGhlIHByZXZhbGVudCB3b3JrLWFyb3VuZFxuLy8gaXMgdG8gYWRkIGEgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2FsbHMgZm9yIGEgZmx1c2guXG5cbi8vIGBzZXRUaW1lb3V0YCBkb2VzIG5vdCBjYWxsIHRoZSBwYXNzZWQgY2FsbGJhY2sgaWYgdGhlIGRlbGF5IGlzIGxlc3MgdGhhblxuLy8gYXBwcm94aW1hdGVseSA3IGluIHdlYiB3b3JrZXJzIGluIEZpcmVmb3ggOCB0aHJvdWdoIDE4LCBhbmQgc29tZXRpbWVzIG5vdFxuLy8gZXZlbiB0aGVuLlxuXG5mdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXIoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG4gICAgICAgIC8vIFdlIGRpc3BhdGNoIGEgdGltZW91dCB3aXRoIGEgc3BlY2lmaWVkIGRlbGF5IG9mIDAgZm9yIGVuZ2luZXMgdGhhdFxuICAgICAgICAvLyBjYW4gcmVsaWFibHkgYWNjb21tb2RhdGUgdGhhdCByZXF1ZXN0LiBUaGlzIHdpbGwgdXN1YWxseSBiZSBzbmFwcGVkXG4gICAgICAgIC8vIHRvIGEgNCBtaWxpc2Vjb25kIGRlbGF5LCBidXQgb25jZSB3ZSdyZSBmbHVzaGluZywgdGhlcmUncyBubyBkZWxheVxuICAgICAgICAvLyBiZXR3ZWVuIGV2ZW50cy5cbiAgICAgICAgdmFyIHRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGhhbmRsZVRpbWVyLCAwKTtcbiAgICAgICAgLy8gSG93ZXZlciwgc2luY2UgdGhpcyB0aW1lciBnZXRzIGZyZXF1ZW50bHkgZHJvcHBlZCBpbiBGaXJlZm94XG4gICAgICAgIC8vIHdvcmtlcnMsIHdlIGVubGlzdCBhbiBpbnRlcnZhbCBoYW5kbGUgdGhhdCB3aWxsIHRyeSB0byBmaXJlXG4gICAgICAgIC8vIGFuIGV2ZW50IDIwIHRpbWVzIHBlciBzZWNvbmQgdW50aWwgaXQgc3VjY2VlZHMuXG4gICAgICAgIHZhciBpbnRlcnZhbEhhbmRsZSA9IHNldEludGVydmFsKGhhbmRsZVRpbWVyLCA1MCk7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVGltZXIoKSB7XG4gICAgICAgICAgICAvLyBXaGljaGV2ZXIgdGltZXIgc3VjY2VlZHMgd2lsbCBjYW5jZWwgYm90aCB0aW1lcnMgYW5kXG4gICAgICAgICAgICAvLyBleGVjdXRlIHRoZSBjYWxsYmFjay5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIYW5kbGUpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRoaXMgaXMgZm9yIGBhc2FwLmpzYCBvbmx5LlxuLy8gSXRzIG5hbWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgcmFuZG9taXplZCB0byBicmVhayBhbnkgY29kZSB0aGF0IGRlcGVuZHMgb25cbi8vIGl0cyBleGlzdGVuY2UuXG5yYXdBc2FwLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lciA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcjtcblxuLy8gQVNBUCB3YXMgb3JpZ2luYWxseSBhIG5leHRUaWNrIHNoaW0gaW5jbHVkZWQgaW4gUS4gVGhpcyB3YXMgZmFjdG9yZWQgb3V0XG4vLyBpbnRvIHRoaXMgQVNBUCBwYWNrYWdlLiBJdCB3YXMgbGF0ZXIgYWRhcHRlZCB0byBSU1ZQIHdoaWNoIG1hZGUgZnVydGhlclxuLy8gYW1lbmRtZW50cy4gVGhlc2UgZGVjaXNpb25zLCBwYXJ0aWN1bGFybHkgdG8gbWFyZ2luYWxpemUgTWVzc2FnZUNoYW5uZWwgYW5kXG4vLyB0byBjYXB0dXJlIHRoZSBNdXRhdGlvbk9ic2VydmVyIGltcGxlbWVudGF0aW9uIGluIGEgY2xvc3VyZSwgd2VyZSBpbnRlZ3JhdGVkXG4vLyBiYWNrIGludG8gQVNBUCBwcm9wZXIuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvY2RkZjcyMzI1NDZhOWNmODU4NTI0Yjc1Y2RlNmY5ZWRmNzI2MjBhNy9saWIvcnN2cC9hc2FwLmpzXG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWInKVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNhcCA9IHJlcXVpcmUoJ2FzYXAvcmF3Jyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBTdGF0ZXM6XG4vL1xuLy8gMCAtIHBlbmRpbmdcbi8vIDEgLSBmdWxmaWxsZWQgd2l0aCBfdmFsdWVcbi8vIDIgLSByZWplY3RlZCB3aXRoIF92YWx1ZVxuLy8gMyAtIGFkb3B0ZWQgdGhlIHN0YXRlIG9mIGFub3RoZXIgcHJvbWlzZSwgX3ZhbHVlXG4vL1xuLy8gb25jZSB0aGUgc3RhdGUgaXMgbm8gbG9uZ2VyIHBlbmRpbmcgKDApIGl0IGlzIGltbXV0YWJsZVxuXG4vLyBBbGwgYF9gIHByZWZpeGVkIHByb3BlcnRpZXMgd2lsbCBiZSByZWR1Y2VkIHRvIGBfe3JhbmRvbSBudW1iZXJ9YFxuLy8gYXQgYnVpbGQgdGltZSB0byBvYmZ1c2NhdGUgdGhlbSBhbmQgZGlzY291cmFnZSB0aGVpciB1c2UuXG4vLyBXZSBkb24ndCB1c2Ugc3ltYm9scyBvciBPYmplY3QuZGVmaW5lUHJvcGVydHkgdG8gZnVsbHkgaGlkZSB0aGVtXG4vLyBiZWNhdXNlIHRoZSBwZXJmb3JtYW5jZSBpc24ndCBnb29kIGVub3VnaC5cblxuXG4vLyB0byBhdm9pZCB1c2luZyB0cnkvY2F0Y2ggaW5zaWRlIGNyaXRpY2FsIGZ1bmN0aW9ucywgd2Vcbi8vIGV4dHJhY3QgdGhlbSB0byBoZXJlLlxudmFyIExBU1RfRVJST1IgPSBudWxsO1xudmFyIElTX0VSUk9SID0ge307XG5mdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuICB0cnkge1xuICAgIHJldHVybiBvYmoudGhlbjtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBMQVNUX0VSUk9SID0gZXg7XG4gICAgcmV0dXJuIElTX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUNhbGxPbmUoZm4sIGEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oYSk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgTEFTVF9FUlJPUiA9IGV4O1xuICAgIHJldHVybiBJU19FUlJPUjtcbiAgfVxufVxuZnVuY3Rpb24gdHJ5Q2FsbFR3byhmbiwgYSwgYikge1xuICB0cnkge1xuICAgIGZuKGEsIGIpO1xuICB9IGNhdGNoIChleCkge1xuICAgIExBU1RfRVJST1IgPSBleDtcbiAgICByZXR1cm4gSVNfRVJST1I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICh0eXBlb2YgdGhpcyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgfVxuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZSBjb25zdHJ1Y3RvclxcJ3MgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuICB0aGlzLl83NSA9IDA7XG4gIHRoaXMuXzgzID0gMDtcbiAgdGhpcy5fMTggPSBudWxsO1xuICB0aGlzLl8zOCA9IG51bGw7XG4gIGlmIChmbiA9PT0gbm9vcCkgcmV0dXJuO1xuICBkb1Jlc29sdmUoZm4sIHRoaXMpO1xufVxuUHJvbWlzZS5fNDcgPSBudWxsO1xuUHJvbWlzZS5fNzEgPSBudWxsO1xuUHJvbWlzZS5fNDQgPSBub29wO1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgaWYgKHRoaXMuY29uc3RydWN0b3IgIT09IFByb21pc2UpIHtcbiAgICByZXR1cm4gc2FmZVRoZW4odGhpcywgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICB9XG4gIHZhciByZXMgPSBuZXcgUHJvbWlzZShub29wKTtcbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCByZXMpKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHNhZmVUaGVuKHNlbGYsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIHJldHVybiBuZXcgc2VsZi5jb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcyA9IG5ldyBQcm9taXNlKG5vb3ApO1xuICAgIHJlcy50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgaGFuZGxlKHNlbGYsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCByZXMpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBoYW5kbGUoc2VsZiwgZGVmZXJyZWQpIHtcbiAgd2hpbGUgKHNlbGYuXzgzID09PSAzKSB7XG4gICAgc2VsZiA9IHNlbGYuXzE4O1xuICB9XG4gIGlmIChQcm9taXNlLl80Nykge1xuICAgIFByb21pc2UuXzQ3KHNlbGYpO1xuICB9XG4gIGlmIChzZWxmLl84MyA9PT0gMCkge1xuICAgIGlmIChzZWxmLl83NSA9PT0gMCkge1xuICAgICAgc2VsZi5fNzUgPSAxO1xuICAgICAgc2VsZi5fMzggPSBkZWZlcnJlZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNlbGYuXzc1ID09PSAxKSB7XG4gICAgICBzZWxmLl83NSA9IDI7XG4gICAgICBzZWxmLl8zOCA9IFtzZWxmLl8zOCwgZGVmZXJyZWRdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmLl8zOC5wdXNoKGRlZmVycmVkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaGFuZGxlUmVzb2x2ZWQoc2VsZiwgZGVmZXJyZWQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVSZXNvbHZlZChzZWxmLCBkZWZlcnJlZCkge1xuICBhc2FwKGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYiA9IHNlbGYuXzgzID09PSAxID8gZGVmZXJyZWQub25GdWxmaWxsZWQgOiBkZWZlcnJlZC5vblJlamVjdGVkO1xuICAgIGlmIChjYiA9PT0gbnVsbCkge1xuICAgICAgaWYgKHNlbGYuXzgzID09PSAxKSB7XG4gICAgICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgc2VsZi5fMTgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIHNlbGYuXzE4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldCA9IHRyeUNhbGxPbmUoY2IsIHNlbGYuXzE4KTtcbiAgICBpZiAocmV0ID09PSBJU19FUlJPUikge1xuICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIExBU1RfRVJST1IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKGRlZmVycmVkLnByb21pc2UsIHJldCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgLy8gUHJvbWlzZSBSZXNvbHV0aW9uIFByb2NlZHVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Byb21pc2VzLWFwbHVzL3Byb21pc2VzLXNwZWMjdGhlLXByb21pc2UtcmVzb2x1dGlvbi1wcm9jZWR1cmVcbiAgaWYgKG5ld1ZhbHVlID09PSBzZWxmKSB7XG4gICAgcmV0dXJuIHJlamVjdChcbiAgICAgIHNlbGYsXG4gICAgICBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpXG4gICAgKTtcbiAgfVxuICBpZiAoXG4gICAgbmV3VmFsdWUgJiZcbiAgICAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICkge1xuICAgIHZhciB0aGVuID0gZ2V0VGhlbihuZXdWYWx1ZSk7XG4gICAgaWYgKHRoZW4gPT09IElTX0VSUk9SKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHNlbGYsIExBU1RfRVJST1IpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGVuID09PSBzZWxmLnRoZW4gJiZcbiAgICAgIG5ld1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZVxuICAgICkge1xuICAgICAgc2VsZi5fODMgPSAzO1xuICAgICAgc2VsZi5fMTggPSBuZXdWYWx1ZTtcbiAgICAgIGZpbmFsZShzZWxmKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkb1Jlc29sdmUodGhlbi5iaW5kKG5ld1ZhbHVlKSwgc2VsZik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHNlbGYuXzgzID0gMTtcbiAgc2VsZi5fMTggPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiByZWplY3Qoc2VsZiwgbmV3VmFsdWUpIHtcbiAgc2VsZi5fODMgPSAyO1xuICBzZWxmLl8xOCA9IG5ld1ZhbHVlO1xuICBpZiAoUHJvbWlzZS5fNzEpIHtcbiAgICBQcm9taXNlLl83MShzZWxmLCBuZXdWYWx1ZSk7XG4gIH1cbiAgZmluYWxlKHNlbGYpO1xufVxuZnVuY3Rpb24gZmluYWxlKHNlbGYpIHtcbiAgaWYgKHNlbGYuXzc1ID09PSAxKSB7XG4gICAgaGFuZGxlKHNlbGYsIHNlbGYuXzM4KTtcbiAgICBzZWxmLl8zOCA9IG51bGw7XG4gIH1cbiAgaWYgKHNlbGYuXzc1ID09PSAyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLl8zOC5sZW5ndGg7IGkrKykge1xuICAgICAgaGFuZGxlKHNlbGYsIHNlbGYuXzM4W2ldKTtcbiAgICB9XG4gICAgc2VsZi5fMzggPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb21pc2Upe1xuICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuICB0aGlzLm9uUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uUmVqZWN0ZWQgOiBudWxsO1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xufVxuXG4vKipcbiAqIFRha2UgYSBwb3RlbnRpYWxseSBtaXNiZWhhdmluZyByZXNvbHZlciBmdW5jdGlvbiBhbmQgbWFrZSBzdXJlXG4gKiBvbkZ1bGZpbGxlZCBhbmQgb25SZWplY3RlZCBhcmUgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBNYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IGFzeW5jaHJvbnkuXG4gKi9cbmZ1bmN0aW9uIGRvUmVzb2x2ZShmbiwgcHJvbWlzZSkge1xuICB2YXIgZG9uZSA9IGZhbHNlO1xuICB2YXIgcmVzID0gdHJ5Q2FsbFR3byhmbiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH0pO1xuICBpZiAoIWRvbmUgJiYgcmVzID09PSBJU19FUlJPUikge1xuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChwcm9taXNlLCBMQVNUX0VSUk9SKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5Qcm9taXNlLnByb3RvdHlwZS5kb25lID0gZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIHZhciBzZWxmID0gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMudGhlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdGhpcztcbiAgc2VsZi50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9LCAwKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL1RoaXMgZmlsZSBjb250YWlucyB0aGUgRVM2IGV4dGVuc2lvbnMgdG8gdGhlIGNvcmUgUHJvbWlzZXMvQSsgQVBJXG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblxuLyogU3RhdGljIEZ1bmN0aW9ucyAqL1xuXG52YXIgVFJVRSA9IHZhbHVlUHJvbWlzZSh0cnVlKTtcbnZhciBGQUxTRSA9IHZhbHVlUHJvbWlzZShmYWxzZSk7XG52YXIgTlVMTCA9IHZhbHVlUHJvbWlzZShudWxsKTtcbnZhciBVTkRFRklORUQgPSB2YWx1ZVByb21pc2UodW5kZWZpbmVkKTtcbnZhciBaRVJPID0gdmFsdWVQcm9taXNlKDApO1xudmFyIEVNUFRZU1RSSU5HID0gdmFsdWVQcm9taXNlKCcnKTtcblxuZnVuY3Rpb24gdmFsdWVQcm9taXNlKHZhbHVlKSB7XG4gIHZhciBwID0gbmV3IFByb21pc2UoUHJvbWlzZS5fNDQpO1xuICBwLl84MyA9IDE7XG4gIHAuXzE4ID0gdmFsdWU7XG4gIHJldHVybiBwO1xufVxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHJldHVybiB2YWx1ZTtcblxuICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiBOVUxMO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFVOREVGSU5FRDtcbiAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gVFJVRTtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSkgcmV0dXJuIEZBTFNFO1xuICBpZiAodmFsdWUgPT09IDApIHJldHVybiBaRVJPO1xuICBpZiAodmFsdWUgPT09ICcnKSByZXR1cm4gRU1QVFlTVFJJTkc7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0aGVuID0gdmFsdWUudGhlbjtcbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UodGhlbi5iaW5kKHZhbHVlKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlUHJvbWlzZSh2YWx1ZSk7XG59O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBQcm9taXNlICYmIHZhbC50aGVuID09PSBQcm9taXNlLnByb3RvdHlwZS50aGVuKSB7XG4gICAgICAgICAgd2hpbGUgKHZhbC5fODMgPT09IDMpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbC5fMTg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWwuXzgzID09PSAxKSByZXR1cm4gcmVzKGksIHZhbC5fMTgpO1xuICAgICAgICAgIGlmICh2YWwuXzgzID09PSAyKSByZWplY3QodmFsLl8xOCk7XG4gICAgICAgICAgdmFsLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IFByb21pc2UodGhlbi5iaW5kKHZhbCkpO1xuICAgICAgICAgICAgcC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IHZhbDtcbiAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcyhpLCBhcmdzW2ldKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKiBQcm90b3R5cGUgTWV0aG9kcyAqL1xuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gZnVuY3Rpb24gKGYpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcbnJlcXVpcmUoJy4vZG9uZS5qcycpO1xucmVxdWlyZSgnLi9maW5hbGx5LmpzJyk7XG5yZXF1aXJlKCcuL2VzNi1leHRlbnNpb25zLmpzJyk7XG5yZXF1aXJlKCcuL25vZGUtZXh0ZW5zaW9ucy5qcycpO1xucmVxdWlyZSgnLi9zeW5jaHJvbm91cy5qcycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGlzIGZpbGUgY29udGFpbnMgdGhlbi9wcm9taXNlIHNwZWNpZmljIGV4dGVuc2lvbnMgdGhhdCBhcmUgb25seSB1c2VmdWxcbi8vIGZvciBub2RlLmpzIGludGVyb3BcblxudmFyIFByb21pc2UgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcbnZhciBhc2FwID0gcmVxdWlyZSgnYXNhcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5cbi8qIFN0YXRpYyBGdW5jdGlvbnMgKi9cblxuUHJvbWlzZS5kZW5vZGVpZnkgPSBmdW5jdGlvbiAoZm4sIGFyZ3VtZW50Q291bnQpIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBhcmd1bWVudENvdW50ID09PSAnbnVtYmVyJyAmJiBhcmd1bWVudENvdW50ICE9PSBJbmZpbml0eVxuICApIHtcbiAgICByZXR1cm4gZGVub2RlaWZ5V2l0aENvdW50KGZuLCBhcmd1bWVudENvdW50KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVub2RlaWZ5V2l0aG91dENvdW50KGZuKTtcbiAgfVxufTtcblxudmFyIGNhbGxiYWNrRm4gPSAoXG4gICdmdW5jdGlvbiAoZXJyLCByZXMpIHsnICtcbiAgJ2lmIChlcnIpIHsgcmooZXJyKTsgfSBlbHNlIHsgcnMocmVzKTsgfScgK1xuICAnfSdcbik7XG5mdW5jdGlvbiBkZW5vZGVpZnlXaXRoQ291bnQoZm4sIGFyZ3VtZW50Q291bnQpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudENvdW50OyBpKyspIHtcbiAgICBhcmdzLnB1c2goJ2EnICsgaSk7XG4gIH1cbiAgdmFyIGJvZHkgPSBbXG4gICAgJ3JldHVybiBmdW5jdGlvbiAoJyArIGFyZ3Muam9pbignLCcpICsgJykgeycsXG4gICAgJ3ZhciBzZWxmID0gdGhpczsnLFxuICAgICdyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJzLCByaikgeycsXG4gICAgJ3ZhciByZXMgPSBmbi5jYWxsKCcsXG4gICAgWydzZWxmJ10uY29uY2F0KGFyZ3MpLmNvbmNhdChbY2FsbGJhY2tGbl0pLmpvaW4oJywnKSxcbiAgICAnKTsnLFxuICAgICdpZiAocmVzICYmJyxcbiAgICAnKHR5cGVvZiByZXMgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHJlcyA9PT0gXCJmdW5jdGlvblwiKSAmJicsXG4gICAgJ3R5cGVvZiByZXMudGhlbiA9PT0gXCJmdW5jdGlvblwiJyxcbiAgICAnKSB7cnMocmVzKTt9JyxcbiAgICAnfSk7JyxcbiAgICAnfTsnXG4gIF0uam9pbignJyk7XG4gIHJldHVybiBGdW5jdGlvbihbJ1Byb21pc2UnLCAnZm4nXSwgYm9keSkoUHJvbWlzZSwgZm4pO1xufVxuZnVuY3Rpb24gZGVub2RlaWZ5V2l0aG91dENvdW50KGZuKSB7XG4gIHZhciBmbkxlbmd0aCA9IE1hdGgubWF4KGZuLmxlbmd0aCAtIDEsIDMpO1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZuTGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzLnB1c2goJ2EnICsgaSk7XG4gIH1cbiAgdmFyIGJvZHkgPSBbXG4gICAgJ3JldHVybiBmdW5jdGlvbiAoJyArIGFyZ3Muam9pbignLCcpICsgJykgeycsXG4gICAgJ3ZhciBzZWxmID0gdGhpczsnLFxuICAgICd2YXIgYXJnczsnLFxuICAgICd2YXIgYXJnTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsnLFxuICAgICdpZiAoYXJndW1lbnRzLmxlbmd0aCA+ICcgKyBmbkxlbmd0aCArICcpIHsnLFxuICAgICdhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggKyAxKTsnLFxuICAgICdmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeycsXG4gICAgJ2FyZ3NbaV0gPSBhcmd1bWVudHNbaV07JyxcbiAgICAnfScsXG4gICAgJ30nLFxuICAgICdyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJzLCByaikgeycsXG4gICAgJ3ZhciBjYiA9ICcgKyBjYWxsYmFja0ZuICsgJzsnLFxuICAgICd2YXIgcmVzOycsXG4gICAgJ3N3aXRjaCAoYXJnTGVuZ3RoKSB7JyxcbiAgICBhcmdzLmNvbmNhdChbJ2V4dHJhJ10pLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICdjYXNlICcgKyAoaW5kZXgpICsgJzonICtcbiAgICAgICAgJ3JlcyA9IGZuLmNhbGwoJyArIFsnc2VsZiddLmNvbmNhdChhcmdzLnNsaWNlKDAsIGluZGV4KSkuY29uY2F0KCdjYicpLmpvaW4oJywnKSArICcpOycgK1xuICAgICAgICAnYnJlYWs7J1xuICAgICAgKTtcbiAgICB9KS5qb2luKCcnKSxcbiAgICAnZGVmYXVsdDonLFxuICAgICdhcmdzW2FyZ0xlbmd0aF0gPSBjYjsnLFxuICAgICdyZXMgPSBmbi5hcHBseShzZWxmLCBhcmdzKTsnLFxuICAgICd9JyxcbiAgICBcbiAgICAnaWYgKHJlcyAmJicsXG4gICAgJyh0eXBlb2YgcmVzID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiByZXMgPT09IFwiZnVuY3Rpb25cIikgJiYnLFxuICAgICd0eXBlb2YgcmVzLnRoZW4gPT09IFwiZnVuY3Rpb25cIicsXG4gICAgJykge3JzKHJlcyk7fScsXG4gICAgJ30pOycsXG4gICAgJ307J1xuICBdLmpvaW4oJycpO1xuXG4gIHJldHVybiBGdW5jdGlvbihcbiAgICBbJ1Byb21pc2UnLCAnZm4nXSxcbiAgICBib2R5XG4gICkoUHJvbWlzZSwgZm4pO1xufVxuXG5Qcm9taXNlLm5vZGVpZnkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgdmFyIGNhbGxiYWNrID1cbiAgICAgIHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicgPyBhcmdzLnBvcCgpIDogbnVsbDtcbiAgICB2YXIgY3R4ID0gdGhpcztcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykubm9kZWlmeShjYWxsYmFjaywgY3R4KTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGNhbGxiYWNrID09PSBudWxsIHx8IHR5cGVvZiBjYWxsYmFjayA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChjdHgsIGV4KTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblByb21pc2UucHJvdG90eXBlLm5vZGVpZnkgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGN0eCkge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicpIHJldHVybiB0aGlzO1xuXG4gIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBudWxsLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBlcnIpO1xuICAgIH0pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblByb21pc2UuZW5hYmxlU3luY2hyb25vdXMgPSBmdW5jdGlvbiAoKSB7XG4gIFByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkgPT0gMDtcbiAgfTtcblxuICBQcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkgPT0gMTtcbiAgfTtcblxuICBQcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKSA9PSAyO1xuICB9O1xuXG4gIFByb21pc2UucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl84MyA9PT0gMykge1xuICAgICAgcmV0dXJuIHRoaXMuXzE4LmdldFZhbHVlKCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCBhIHZhbHVlIG9mIGFuIHVuZnVsZmlsbGVkIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuXzE4O1xuICB9O1xuXG4gIFByb21pc2UucHJvdG90eXBlLmdldFJlYXNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fODMgPT09IDMpIHtcbiAgICAgIHJldHVybiB0aGlzLl8xOC5nZXRSZWFzb24oKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNSZWplY3RlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBnZXQgYSByZWplY3Rpb24gcmVhc29uIG9mIGEgbm9uLXJlamVjdGVkIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuXzE4O1xuICB9O1xuXG4gIFByb21pc2UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl84MyA9PT0gMykge1xuICAgICAgcmV0dXJuIHRoaXMuXzE4LmdldFN0YXRlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl84MyA9PT0gLTEgfHwgdGhpcy5fODMgPT09IC0yKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fODM7XG4gIH07XG59O1xuXG5Qcm9taXNlLmRpc2FibGVTeW5jaHJvbm91cyA9IGZ1bmN0aW9uKCkge1xuICBQcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSB1bmRlZmluZWQ7XG4gIFByb21pc2UucHJvdG90eXBlLmlzRnVsZmlsbGVkID0gdW5kZWZpbmVkO1xuICBQcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gdW5kZWZpbmVkO1xuICBQcm9taXNlLnByb3RvdHlwZS5nZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgUHJvbWlzZS5wcm90b3R5cGUuZ2V0UmVhc29uID0gdW5kZWZpbmVkO1xuICBQcm9taXNlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IHVuZGVmaW5lZDtcbn07XG4iLCInZm9ybWF0IGVzNic7XG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBQcm9taXNlIGZyb20gJ3Byb21pc2UnO1xuaW1wb3J0IGdzYXAsIHsgVHdlZW5NYXggfSBmcm9tICdnc2FwJztcbmltcG9ydCBEcmF3U1ZHIGZyb20gJy4vdXRpbHMvRHJhd1NWRy5taW4nO1xuaW1wb3J0IHsgaXNJRSB9IGZyb20gJy4vdXRpbHMvaWVEZXRlY3QnO1xuXG5pbXBvcnQgeyBTdGVwLCBFTkRFRCB9IGZyb20gJy4vU3RlcCc7XG5cbmNvbnN0IFNWR19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbmZ1bmN0aW9uIG1ha2VDaXJjbGUoY3gsIGN5LCByKSB7XG5cdHJldHVybiBgXG5cdFx0TSAke2N4fSAke2N5fVxuXHRcdG0gJHstcn0sIDBcblx0XHRhICR7cn0sJHtyfSAwIDEsMCAkeyhyICogMil9LDBcblx0XHRhICR7cn0sJHtyfSAwIDEsMCAkey0ociAqIDIpfSwwXG5cdGA7XG59XG5cbmNsYXNzIEJ1dHRvbiB7XG5cdGNvbnN0cnVjdG9yKGRhdGEpIHtcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xuXHRcdFxuXHRcdHRoaXMubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdwYXRoJyk7XG5cdFx0dGhpcy5ub2RlLl9fYnRuID0gdGhpcztcblx0XHR0aGlzLm5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCBtYWtlQ2lyY2xlKGRhdGEueCwgZGF0YS55LCBkYXRhLnIpKTtcblx0XHR0aGlzLm5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZScsIGByZ2JhKDI1NSwyNTUsMjU1LCR7ZGF0YS5vcGFjaXR5fSlgKTtcblx0XHR0aGlzLm5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAncmdiYSgyNTUsMjU1LDI1NSwwKScpO1xuXHRcdHRoaXMubm9kZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlLXdpZHRoJywgOCk7XG5cblx0XHR0aGlzLmxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3RleHQnKTtcblx0XHR0aGlzLmxhYmVsLnRleHRDb250ZW50ID0gZGF0YS50ZXh0X2ZyO1xuXG5cdFx0aWYgKGRhdGEubGFiZWxfcG9zID09PSAndG9wJykge1xuXHRcdFx0dGhpcy5sYWJlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsIGRhdGEueCk7XG5cdFx0XHR0aGlzLmxhYmVsLnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgZGF0YS55IC0gZGF0YS5yIC0gMzApO1xuXHRcdFx0dGhpcy5sYWJlbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubGFiZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCBkYXRhLnggKyBkYXRhLnIgKyAzMCk7XG5cdFx0XHR0aGlzLmxhYmVsLnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgZGF0YS55KTtcblx0XHRcdHRoaXMubGFiZWwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RleHQtYW5jaG9yJywgJ3N0YXJ0Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5ub2RlLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGA1MCUgNTAlYDtcblx0XHQvLyBUd2Vlbk1heC5zZXQodGhpcy5ub2RlLCB7IHNjYWxlOiAxLCAndHJhbnNmb3JtLW9yaWdpbic6ICB9KTtcblx0fVxuXG5cdGFuaW1hdGVJbihkZWxheSkge1xuXHRcdGlmICghaXNJRSkge1xuXHRcdFx0VHdlZW5NYXguZnJvbSh0aGlzLm5vZGUsIDAuNiwgeyBkcmF3U1ZHOiAnMCUnLCBlYXNlOiBnc2FwLlNpbmUuZWFzZUluT3V0LCBkZWxheSB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW5NYXguZnJvbSh0aGlzLm5vZGUsIDAuMywgeyBvcGFjaXR5OiAwLCBlYXNlOiBnc2FwLlNpbmUuZWFzZU91dCwgZGVsYXkgfSk7XG5cdFx0fVxuXHR9XG5cblx0YXR0YWNoKGN0bikge1xuXHRcdGN0bi5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpO1xuXHRcdGN0bi5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsKTtcblx0fVxuXG5cdHJlbW92ZSgpIHtcblx0XHR0aGlzLnZpZGVvLnBhdXNlKCk7XG5cdFx0dGhpcy5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKTtcblx0XHR0aGlzLmxhYmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5sYWJlbCk7XG5cdH1cblxuXHRpc0dvb2QgPSAoKSA9PiB0aGlzLmRhdGEuaXNfZ29vZDtcbn1cblxuZnVuY3Rpb24gc3ZnUmVtb3ZlQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG5cdGlmIChlbGVtLmNsYXNzTGlzdCkge1xuXHRcdGVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IGMgPSBlbGVtLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcblx0XHRlbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjLnJlcGxhY2UoY2xhc3NOYW1lLCAnJykudHJpbSgpKTtcblx0fVxufVxuXG5mdW5jdGlvbiBzdmdBZGRDbGFzcyhlbGVtLCBjbGFzc05hbWUpIHtcblx0aWYgKGVsZW0uY2xhc3NMaXN0KSB7XG5cdFx0ZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgYyA9IGVsZW0uZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuXHRcdGVsZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsIGAke2N9ICR7Y2xhc3NOYW1lfWApO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGl2ZVZpZGVvIGV4dGVuZHMgU3RlcCB7XG5cdGNvbnN0cnVjdG9yKGluZm9zKSB7XG5cdFx0c3VwZXIoaW5mb3MpO1xuXHRcdHRoaXMudmlkZW8ubG9vcCA9IHRydWU7XG5cdH1cblx0XG5cdHZpZGVvUHJvbWlzZSA9IChzdGF0ZSA9ICdzdWNjZXNzJykgPT4ge1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6IEVOREVELCBzdGF0ZSB9KTtcblx0fVxuXG5cdHNldExpc3RlbmVycygpIHtcblx0XHR0aGlzLm9uRW5kZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0dGhpcy5lbmRlZFJlc29sdmUgPSByZXNvbHZlO1xuXHRcdH0pO1xuXHR9XG5cblx0b25DbGlja0J1dHRvbiA9IChlKSA9PiB7XG5cdFx0Y29uc3QgY2xpY2tlZEJ1dHRvbiA9IGUuY3VycmVudFRhcmdldDtcblxuXHRcdGxldCBpbmRleCA9IC0xO1xuXHRcdHRoaXMuY2xpY2tlZEJ1dHRvbnMuc29tZSgoYnV0dG9uLCBpKSA9PiB7XG5cdFx0XHRpZiAoYnV0dG9uID09PSBjbGlja2VkQnV0dG9uLl9fYnRuKSB7XG5cdFx0XHRcdGluZGV4ID0gaTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG5cdFx0Y29uc3QgaWQgPSBpbmRleDtcblx0XHRpZiAoaWQgPj0gMCkge1xuXHRcdFx0c3ZnUmVtb3ZlQ2xhc3MoY2xpY2tlZEJ1dHRvbiwgJ3NlbGVjdGVkJyk7XG5cdFx0XHR0aGlzLmNsaWNrZWRCdXR0b25zLnNwbGljZShpZCwgMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY2xpY2tlZEJ1dHRvbnMucHVzaChjbGlja2VkQnV0dG9uLl9fYnRuKTtcblx0XHRcdHN2Z0FkZENsYXNzKGNsaWNrZWRCdXR0b24sICdzZWxlY3RlZCcpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNsaWNrZWRCdXR0b25zLmxlbmd0aCA9PT0gdGhpcy5nb29kQnV0dG9ucy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IHZhbGlkYXRlID0gdGhpcy5nb29kQnV0dG9ucy5maWx0ZXIoYnV0dG9uID0+IHRoaXMuY2xpY2tlZEJ1dHRvbnMuZmluZChidG4gPT4gYnRuID09PSBidXR0b24pKTtcblx0XHRcdC8vIHRoaXMub25FbmRlZCgpO1xuXHRcdFx0dGhpcy5lbmRlZFJlc29sdmUodmFsaWRhdGUubGVuZ3RoID09PSB0aGlzLmdvb2RCdXR0b25zLmxlbmd0aCA/ICdzdWNjZXNzJyA6ICdmYWlsJyk7XG5cdFx0fVxuXHR9XG5cdFxuXHRzdGFydCA9ICgpID0+IHtcblx0XHR0aGlzLnNldExpc3RlbmVycygpO1xuXHRcdHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSAwO1xuXHRcdHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ3ByZWxvYWQnKTtcblx0XHR0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgnYXV0b3BsYXknLCAnYXV0b3BsYXknKTtcblx0XHR0aGlzLnZpZGVvLnBsYXkoKTtcblxuXHRcdHRoaXMuY2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRoaXMuY2FwdGlvbi5jbGFzc0xpc3QuYWRkKCdjYXB0aW9uJyk7XG5cdFx0dGhpcy5jYXB0aW9uLmNsYXNzTGlzdC5hZGQodGhpcy5kZXNjcmlwdGlvbl9wb3NpdGlvbik7XG5cdFx0dGhpcy5jYXB0aW9uLmlubmVySFRNTCA9IHRoaXMuZGVzY3JpcHRpb247XG5cdFx0dGhpcy5ub2RlLmFwcGVuZENoaWxkKHRoaXMuY2FwdGlvbik7XG5cblx0XHR0aGlzLnN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdzdmcnKTtcblx0XHR0aGlzLnN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsICcwIDAgMTkyMCAxMDgwJyk7XG5cdFx0VHdlZW5NYXguc2V0KHRoaXMuc3ZnLCB7XG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdHRvcDogMCxcblx0XHRcdGxlZnQ6IDAsXG5cdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0aGVpZ2h0OiAnMTAwJScsXG5cdFx0fSk7XG5cblx0XHR0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5zdmcpO1xuXG5cdFx0dGhpcy5nb29kQnV0dG9ucyA9IFtdO1xuXHRcdHRoaXMuY2xpY2tlZEJ1dHRvbnMgPSBbXTtcblx0XHR0aGlzLmJ1dHRvbnMgPSBbXTtcblx0XHR0aGlzLmNob2ljZXMuZm9yRWFjaCgoY2hvaWNlLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBidG4gPSBuZXcgQnV0dG9uKGNob2ljZSk7XG5cblx0XHRcdGJ0bi5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrQnV0dG9uKTtcblxuXHRcdFx0YnRuLmF0dGFjaCh0aGlzLnN2Zyk7XG5cdFx0XHRidG4uYW5pbWF0ZUluKDEgKyAoaSAqIDAuMSkpO1xuXG5cdFx0XHRpZiAoYnRuLmlzR29vZCgpKSB7XG5cdFx0XHRcdHRoaXMuZ29vZEJ1dHRvbnMucHVzaChidG4pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmVtb3ZlKCkge1xuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG5cdFx0dGhpcy5idXR0b25zLmZvckVhY2goKGJ0bikgPT4ge1xuXHRcdFx0YnRuLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tCdXR0b24pO1xuXHRcdFx0YnRuLnJlbW92ZSgpO1xuXHRcdH0pO1xuXHRcdHRoaXMuc3ZnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zdmcpO1xuXHRcdHRoaXMubm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubm9kZSk7XG5cdH1cbn1cbiIsIidmb3JtYXQgZXM2Jztcbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFByb21pc2UgZnJvbSAncHJvbWlzZSc7XG5pbXBvcnQgeyBTdGVwLCBFTkRFRCB9IGZyb20gJy4vU3RlcCc7XG5cbmV4cG9ydCBjb25zdCBWSURFT19FTkRFRCA9ICd2aWRlb19lbmRlZCc7XG5cbmV4cG9ydCBjbGFzcyBMaW5lYXJWaWRlbyBleHRlbmRzIFN0ZXAge1xuXHR2aWRlb1Byb21pc2UgPSAoKSA9PiB7XG5cdFx0dGhpcy5lbmRlZFJlc29sdmUoKTtcblx0fVxuXG5cdHNldExpc3RlbmVycygpIHtcblx0XHR0aGlzLm9uRW5kZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0dGhpcy5lbmRlZFJlc29sdmUgPSByZXNvbHZlO1xuXHRcdFx0dGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMudmlkZW9Qcm9taXNlKTtcblx0XHR9KTtcblx0fVxuXHRcblx0c3RhcnQoKSB7XG5cdFx0dGhpcy5zZXRMaXN0ZW5lcnMoKTtcblx0XHR0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gMDtcblx0XHR0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgncHJlbG9hZCcsICdwcmVsb2FkJyk7XG5cdFx0dGhpcy52aWRlby5zZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JywgJ2F1dG9wbGF5Jyk7XG5cdFx0dGhpcy52aWRlby5wbGF5KCk7XG5cdH1cblxuXHRyZW1vdmUoKSB7XG5cdFx0dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcblx0XHR0aGlzLnZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy52aWRlb1Byb21pc2UpO1xuXG5cdFx0aWYgKHRoaXMubm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0XHR0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xuXHRcdH1cblx0fVxufVxuIiwiJ2Zvcm1hdCBlczYnO1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJ2JhYmVsLXBvbHlmaWxsJztcbmltcG9ydCB7IFR3ZWVuTWF4IH0gZnJvbSAnZ3NhcCc7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICdwcm9taXNlJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgeyBTdGVwLCBWSURFTywgSU5URVJBQ1RJVkUsIEVOREVEIH0gZnJvbSAnLi9TdGVwJztcbmltcG9ydCB7IExpbmVhclZpZGVvIH0gZnJvbSAnLi9MaW5lYXJWaWRlbyc7XG5pbXBvcnQgeyBJbnRlcmFjdGl2ZVZpZGVvIH0gZnJvbSAnLi9JbnRlcmFjdGl2ZVZpZGVvJztcblxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuXHRjb25zdCBhcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwJyk7XG5cdGNvbnN0IHN0YXJ0QXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0QXBwJyk7XG5cdGNvbnN0IHZvbHVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2b2x1bWUnKTtcblx0Y29uc3Qgc3RhcnRVSSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFydC11aScpO1xuXG5cdGNvbnN0IHN0eWxlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdGFwcC5hcHBlbmRDaGlsZChzdHlsZXMpO1xuXHRzdHlsZXMuaW5uZXJIVE1MID0gJyc7XG5cblx0Y29uc3Qgc3RlcHMgPSBbXTtcblxuXHRsZXQgY3VycmVudFN0ZXAgPSBudWxsO1xuXG5cdGZ1bmN0aW9uIGdldFN0ZXBCeVNsdWcoc2x1Zykge1xuXHRcdHJldHVybiBzdGVwcy5maW5kKHN0ZXAgPT4gc3RlcC5zbHVnID09PSBzbHVnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJlbG9hZE5leHRTdGVwcyhzdGVwKSB7XG5cdFx0Y29uc3QgbmV4dFN0ZXBzID0gW1xuXHRcdFx0Z2V0U3RlcEJ5U2x1ZyhzdGVwLm5leHQpLFxuXHRcdFx0Z2V0U3RlcEJ5U2x1ZyhzdGVwLnN1Y2Nlc3MpLFxuXHRcdFx0Z2V0U3RlcEJ5U2x1ZyhzdGVwLmZhaWwpLFxuXHRcdF07XG5cblx0XHRuZXh0U3RlcHMuZmlsdGVyKHMgPT4gcykuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ3ByZWxvYWRpbmcnLCBzLnNsdWcpO1xuXHRcdFx0Y29uc3QgY2FucGxheSA9ICgpID0+IHtcblx0XHRcdFx0cy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgY2FucGxheSk7XG5cdFx0XHR9O1xuXHRcdFx0cy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgY2FucGxheSk7XG5cdFx0XHRzLnZpZGVvLnByZWxvYWQgPSAnYXV0byc7XG5cdFx0XHRzLnByZWF0dGFjaChhcHAsIHRydWUpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gbWFuYWdlVm9sdW1lKCkge1xuXHRcdHZvbHVtZS5jbGFzc0xpc3QudG9nZ2xlKCdtdXRlZCcpO1xuXHRcdGNvbnN0IGlzTXV0ZWQgPSB2b2x1bWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdtdXRlZCcpO1xuXHRcdHN0ZXBzLmZvckVhY2goKHMpID0+IHtcblx0XHRcdHMudmlkZW8ubXV0ZWQgPSBpc011dGVkO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gb25SZXNpemUoKSB7XG5cdFx0Y29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuXHRcdFx0fHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXG5cdFx0XHR8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuXG5cdFx0Y29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG5cdFx0XHR8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG5cdFx0XHR8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcblxuXHRcdGxldCBjb21wdXRlZFdpZHRoID0gd2lkdGg7XG5cdFx0bGV0IGNvbXB1dGVkTWFyZ2luID0gMDtcblxuXHRcdGlmIChoZWlnaHQgPCB3aWR0aCAvIDE2ICogOSkge1xuXHRcdFx0Y29tcHV0ZWRXaWR0aCA9IGhlaWdodCAvIDkgKiAxNjtcblx0XHRcdGNvbXB1dGVkTWFyZ2luID0gKHdpZHRoIC0gY29tcHV0ZWRXaWR0aCkgLyAyO1xuXHRcdH1cblxuXHRcdHN0eWxlcy5pbm5lckhUTUwgPSBgLmN0bi1zdGVwIHsgXG5cdFx0XHR3aWR0aDogJHtjb21wdXRlZFdpZHRofXB4O1xuXHRcdFx0bWFyZ2luLWxlZnQ6ICR7Y29tcHV0ZWRNYXJnaW59cHg7XG5cdFx0fWA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRvU3RlcChzdGVwKSB7XG5cdFx0c3RlcC5hdHRhY2goYXBwKTtcblx0XHRjdXJyZW50U3RlcCA9IHN0ZXA7XG5cblx0XHRzdGVwLm9uRW5kZWQudGhlbigoZSA9IG51bGwpID0+IHtcblx0XHRcdHN0ZXAucmVtb3ZlKCk7XG5cdFx0XHRsZXQgbmV4dElkID0gc3RlcC5uZXh0O1xuXHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0bmV4dElkID0gc3RlcFtlXTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IG5leHQgPSBnZXRTdGVwQnlTbHVnKG5leHRJZCk7XG5cdFx0XHRpZiAoIW5leHQpIHtcblx0XHRcdFx0Ly9hbGVydCgnZW5kJyk7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHA6Ly9jYW5hZGEuYXJjZWxvcm1pdHRhbC5jb20vJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvU3RlcChuZXh0KTtcblx0XHRcdH1cblx0XHR9KS5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHRjb25zb2xlLnRyYWNlKCk7XG5cdFx0fSk7XG5cblx0XHRwcmVsb2FkTmV4dFN0ZXBzKHN0ZXApO1xuXHR9XG5cblx0ZnVuY3Rpb24gb25TdGFydCgpIHtcblx0XHRkb1N0ZXAoc3RlcHNbMF0pO1xuXHRcdFR3ZWVuTWF4LnNldChzdGFydFVJLCB7IGRpc3BsYXk6ICdub25lJyB9KTtcblx0XHRUd2Vlbk1heC5zZXQodm9sdW1lLCB7IGRpc3BsYXk6ICcnIH0pO1xuXHR9XG5cblx0VHdlZW5NYXguc2V0KHN0YXJ0VUksIHsgZGlzcGxheTogJ25vbmUnIH0pO1xuXHRUd2Vlbk1heC5zZXQodm9sdW1lLCB7IGRpc3BsYXk6ICdub25lJyB9KTtcblxuXHQkLmFqYXgoe1xuXHRcdHVybDogJy4vanMvbWFuaWZlc3QuanNvbicsXG5cdFx0c3VjY2VzczogKGRhdGEpID0+IHtcblx0XHRcdGRhdGEuZm9yRWFjaCgoc3RlcCkgPT4ge1xuXHRcdFx0XHRzd2l0Y2ggKHN0ZXAudHlwZSkge1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjYXNlIFZJREVPOlxuXHRcdFx0XHRcdHN0ZXBzLnB1c2gobmV3IExpbmVhclZpZGVvKHN0ZXApKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBJTlRFUkFDVElWRTpcblx0XHRcdFx0XHRzdGVwcy5wdXNoKG5ldyBJbnRlcmFjdGl2ZVZpZGVvKHN0ZXApKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRUd2Vlbk1heC5zZXQoc3RhcnRVSSwgeyBkaXNwbGF5OiAnJyB9KTtcblx0XHR9LFxuXHR9KTtcblx0XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcblx0XHRpZiAoY3VycmVudFN0ZXAgJiYgKGUua2V5Q29kZSA9PT0gMzIgfHwgZS53aGljaCA9PT0gMzIpKSB7XG5cdFx0XHRjdXJyZW50U3RlcC52aWRlby5jdXJyZW50VGltZSA9IGN1cnJlbnRTdGVwLnZpZGVvLmR1cmF0aW9uIC0gMi41IHx8IGN1cnJlbnRTdGVwLnZpZGVvLmN1cnJlbnRUaW1lO1xuXHRcdH1cblx0fSk7XG5cdFxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuXHRvblJlc2l6ZSgpO1xuXHRzdGFydEFwcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uU3RhcnQpO1xuXHR2b2x1bWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtYW5hZ2VWb2x1bWUpO1xufSk7XG4iLCInZm9ybWF0IGVzNic7XG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBFdmVudERpc3BhdGNoZXIgZnJvbSAnLi91dGlscy9FdmVudERpc3BhdGNoZXInO1xuXG5leHBvcnQgY29uc3QgRU5ERUQgPSAnc3RlcF9lbmRlZCc7XG5cbmV4cG9ydCBjb25zdCBWSURFTyA9ICd2aWRlbyc7XG5leHBvcnQgY29uc3QgSU5URVJBQ1RJVkUgPSAnaW50ZXJhY3RpdmUnO1xuXG5leHBvcnQgY2xhc3MgU3RlcCBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XG5cdGluZm9zVG9Qcm9wcyhpbmZvcykge1xuXHRcdE9iamVjdC5rZXlzKGluZm9zKS5mb3JFYWNoKChrKSA9PiB7XG5cdFx0XHR0aGlzW2tdID0gaW5mb3Nba107XG5cdFx0fSk7XG5cdH1cblxuXHRvbkNsaWNrUGxheVBhdXNlID0gKCkgPT4ge1xuXHRcdHRoaXMucGxheVBhdXNlLmNsYXNzTGlzdC50b2dnbGUoJ3BsYXlpbmcnKTtcblxuXHRcdGlmICh0aGlzLnBsYXlQYXVzZS5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXlpbmcnKSkge1xuXHRcdFx0dGhpcy52aWRlby5wbGF5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudmlkZW8ucGF1c2UoKTtcblx0XHR9XG5cdH1cblx0XG5cdGNvbnN0cnVjdG9yKGluZm9zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRcblx0XHR0aGlzLmluZm9zVG9Qcm9wcyhpbmZvcyk7XG5cblx0XHR0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZCgnY3RuLXN0ZXAnKTtcblxuXHRcdHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG5cdFx0Y29uc3QgcHJlZml4ID0gfndpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3dvcmtzcGFjZScpID8gJ3ZpZGVvcy8nIDogJ2h0dHBzOi8vczMuYW1hem9uYXdzLmNvbS9hcmNlbG9yLXNlY3VyaXR5LXZpZGVvcy8nO1xuXG5cdFx0dGhpcy52aWRlby5zcmMgPSBwcmVmaXggKyB0aGlzLnZpZGVvX3NyYztcblx0XHQvLyB0aGlzLnZpZGVvLnBsYXliYWNrUmF0ZSA9IDMuMDtcblx0XHR0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJ3dlYmtpdC1wbGF5c2lubGluZScpO1xuXHRcdHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICdwbGF5c2lubGluZScpO1xuXHRcdHRoaXMudmlkZW8ucHJlbG9hZCA9ICdub25lJztcblx0XHR0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy52aWRlbyk7XG5cblx0XHR0aGlzLnBsYXlQYXVzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRoaXMucGxheVBhdXNlLmNsYXNzTGlzdC5hZGQoJ3BsYXktcGF1c2UnLCAncGxheWluZycpO1xuXHRcdHRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLnBsYXlQYXVzZSk7XG5cblx0XHR0aGlzLnBsYXlQYXVzZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja1BsYXlQYXVzZSk7XG5cdFx0dGhpcy5wbGF5UGF1c2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tQbGF5UGF1c2UpO1xuXG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRpbml0KCkge31cblx0c2V0TGlzdGVuZXJzKCkge31cblx0c3RhcnQoKSB7fVxuXHRyZW1vdmUoKSB7fVxuXG5cdHByZWF0dGFjaCA9IChlbCwgaGlkZGVuID0gZmFsc2UpID0+IHtcblx0XHRjb25zb2xlLmxvZygncHJlLWF0dGFjaGluZycsIHRoaXMuc2x1Zyk7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcblx0XHR0aGlzLm5vZGUuY2xhc3NMaXN0W2hpZGRlbiA/ICdhZGQnIDogJ3JlbW92ZSddKCdpbmFjdGl2ZScpO1xuXHR9XG5cblx0YXR0YWNoKGVsKSB7XG5cdFx0dGhpcy5wcmVhdHRhY2goZWwpO1xuXHRcdHRoaXMuc3RhcnQoKTtcblx0fVxufVxuIiwiLyohXG4gKiBWRVJTSU9OOiAwLjAuNVxuICogREFURTogMjAxNS0wNS0xOVxuICogVVBEQVRFUyBBTkQgRE9DUyBBVDogaHR0cDovL2dyZWVuc29jay5jb21cbiAqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxNSwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRHJhd1NWR1BsdWdpbiBpcyBhIENsdWIgR3JlZW5Tb2NrIG1lbWJlcnNoaXAgYmVuZWZpdDsgWW91IG11c3QgaGF2ZSBhIHZhbGlkIG1lbWJlcnNoaXAgdG8gdXNlXG4gKiB0aGlzIGNvZGUgd2l0aG91dCB2aW9sYXRpbmcgdGhlIHRlcm1zIG9mIHVzZS4gVmlzaXQgaHR0cDovL2dyZWVuc29jay5jb20vY2x1Yi8gdG8gc2lnbiB1cCBvciBnZXQgbW9yZSBkZXRhaWxzLlxuICogVGhpcyB3b3JrIGlzIHN1YmplY3QgdG8gdGhlIHNvZnR3YXJlIGFncmVlbWVudCB0aGF0IHdhcyBpc3N1ZWQgd2l0aCB5b3VyIG1lbWJlcnNoaXAuXG4gKiBcbiAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxuICovXG52YXIgX2dzU2NvcGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnRoaXN8fHdpbmRvdzsoX2dzU2NvcGUuX2dzUXVldWV8fChfZ3NTY29wZS5fZ3NRdWV1ZT1bXSkpLnB1c2goZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxpLHIpe3JldHVybiBpPXBhcnNlRmxvYXQoaSktcGFyc2VGbG9hdCh0KSxyPXBhcnNlRmxvYXQociktcGFyc2VGbG9hdChlKSxNYXRoLnNxcnQoaSppK3Iqcil9ZnVuY3Rpb24gZSh0KXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdCYmdC5ub2RlVHlwZXx8KHQ9X2dzU2NvcGUuVHdlZW5MaXRlLnNlbGVjdG9yKHQpLHQubGVuZ3RoJiYodD10WzBdKSksdH1mdW5jdGlvbiBpKHQsZSxpKXt2YXIgcixzLG49dC5pbmRleE9mKFwiIFwiKTtyZXR1cm4tMT09PW4/KHI9dm9pZCAwIT09aT9pK1wiXCI6dCxzPXQpOihyPXQuc3Vic3RyKDAsbikscz10LnN1YnN0cihuKzEpKSxyPS0xIT09ci5pbmRleE9mKFwiJVwiKT9wYXJzZUZsb2F0KHIpLzEwMCplOnBhcnNlRmxvYXQocikscz0tMSE9PXMuaW5kZXhPZihcIiVcIik/cGFyc2VGbG9hdChzKS8xMDAqZTpwYXJzZUZsb2F0KHMpLHI+cz9bcyxyXTpbcixzXX1mdW5jdGlvbiByKGkpe2lmKCFpKXJldHVybiAwO2k9ZShpKTt2YXIgcixzLG4sYSxvLGwsaCx1LGY9aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJwYXRoXCI9PT1mKW89aS5zdHlsZS5zdHJva2VEYXNoYXJyYXksaS5zdHlsZS5zdHJva2VEYXNoYXJyYXk9XCJub25lXCIscj1pLmdldFRvdGFsTGVuZ3RoKCl8fDAsaS5zdHlsZS5zdHJva2VEYXNoYXJyYXk9bztlbHNlIGlmKFwicmVjdFwiPT09ZilzPWkuZ2V0QkJveCgpLHI9Mioocy53aWR0aCtzLmhlaWdodCk7ZWxzZSBpZihcImNpcmNsZVwiPT09ZilyPTIqTWF0aC5QSSpwYXJzZUZsb2F0KGkuZ2V0QXR0cmlidXRlKFwiclwiKSk7ZWxzZSBpZihcImxpbmVcIj09PWYpcj10KGkuZ2V0QXR0cmlidXRlKFwieDFcIiksaS5nZXRBdHRyaWJ1dGUoXCJ5MVwiKSxpLmdldEF0dHJpYnV0ZShcIngyXCIpLGkuZ2V0QXR0cmlidXRlKFwieTJcIikpO2Vsc2UgaWYoXCJwb2x5bGluZVwiPT09Znx8XCJwb2x5Z29uXCI9PT1mKWZvcihuPWkuZ2V0QXR0cmlidXRlKFwicG9pbnRzXCIpLnNwbGl0KFwiIFwiKSxyPTAsbz1uWzBdLnNwbGl0KFwiLFwiKSxcInBvbHlnb25cIj09PWYmJihuLnB1c2goblswXSksLTE9PT1uWzBdLmluZGV4T2YoXCIsXCIpJiZuLnB1c2goblsxXSkpLGw9MTtuLmxlbmd0aD5sO2wrKylhPW5bbF0uc3BsaXQoXCIsXCIpLDE9PT1hLmxlbmd0aCYmKGFbMV09bltsKytdKSwyPT09YS5sZW5ndGgmJihyKz10KG9bMF0sb1sxXSxhWzBdLGFbMV0pfHwwLG89YSk7ZWxzZVwiZWxsaXBzZVwiPT09ZiYmKGg9cGFyc2VGbG9hdChpLmdldEF0dHJpYnV0ZShcInJ4XCIpKSx1PXBhcnNlRmxvYXQoaS5nZXRBdHRyaWJ1dGUoXCJyeVwiKSkscj1NYXRoLlBJKigzKihoK3UpLU1hdGguc3FydCgoMypoK3UpKihoKzMqdSkpKSk7cmV0dXJuIHJ8fDB9ZnVuY3Rpb24gcyh0LGkpe2lmKCF0KXJldHVyblswLDBdO3Q9ZSh0KSxpPWl8fHIodCkrMTt2YXIgcz1hKHQpLG49cy5zdHJva2VEYXNoYXJyYXl8fFwiXCIsbz1wYXJzZUZsb2F0KHMuc3Ryb2tlRGFzaG9mZnNldCksbD1uLmluZGV4T2YoXCIsXCIpO3JldHVybiAwPmwmJihsPW4uaW5kZXhPZihcIiBcIikpLG49MD5sP2k6cGFyc2VGbG9hdChuLnN1YnN0cigwLGwpKXx8MWUtNSxuPmkmJihuPWkpLFtNYXRoLm1heCgwLC1vKSxuLW9dfXZhciBuLGE9ZG9jdW1lbnQuZGVmYXVsdFZpZXc/ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbigpe307bj1fZ3NTY29wZS5fZ3NEZWZpbmUucGx1Z2luKHtwcm9wTmFtZTpcImRyYXdTVkdcIixBUEk6Mix2ZXJzaW9uOlwiMC4wLjVcIixnbG9iYWw6ITAsb3ZlcndyaXRlUHJvcHM6W1wiZHJhd1NWR1wiXSxpbml0OmZ1bmN0aW9uKHQsZSl7aWYoIXQuZ2V0QkJveClyZXR1cm4hMTt2YXIgbixhLG8sbD1yKHQpKzE7cmV0dXJuIHRoaXMuX3N0eWxlPXQuc3R5bGUsZT09PSEwfHxcInRydWVcIj09PWU/ZT1cIjAgMTAwJVwiOmU/LTE9PT0oZStcIlwiKS5pbmRleE9mKFwiIFwiKSYmKGU9XCIwIFwiK2UpOmU9XCIwIDBcIixuPXModCxsKSxhPWkoZSxsLG5bMF0pLHRoaXMuX2xlbmd0aD1sKzEwLDA9PT1uWzBdJiYwPT09YVswXT8obz1NYXRoLm1heCgxZS01LGFbMV0tbCksdGhpcy5fZGFzaD1sK28sdGhpcy5fb2Zmc2V0PWwtblsxXStvLHRoaXMuX2FkZFR3ZWVuKHRoaXMsXCJfb2Zmc2V0XCIsdGhpcy5fb2Zmc2V0LGwtYVsxXStvLFwiZHJhd1NWR1wiKSk6KHRoaXMuX2Rhc2g9blsxXS1uWzBdfHwxZS02LHRoaXMuX29mZnNldD0tblswXSx0aGlzLl9hZGRUd2Vlbih0aGlzLFwiX2Rhc2hcIix0aGlzLl9kYXNoLGFbMV0tYVswXXx8MWUtNSxcImRyYXdTVkdcIiksdGhpcy5fYWRkVHdlZW4odGhpcyxcIl9vZmZzZXRcIix0aGlzLl9vZmZzZXQsLWFbMF0sXCJkcmF3U1ZHXCIpKSwhMH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZpcnN0UFQmJih0aGlzLl9zdXBlci5zZXRSYXRpby5jYWxsKHRoaXMsdCksdGhpcy5fc3R5bGUuc3Ryb2tlRGFzaG9mZnNldD10aGlzLl9vZmZzZXQsdGhpcy5fc3R5bGUuc3Ryb2tlRGFzaGFycmF5PSgxPT09dHx8MD09PXQpJiYuMDAxPnRoaXMuX29mZnNldCYmMTA+PXRoaXMuX2xlbmd0aC10aGlzLl9kYXNoP1wibm9uZVwiOnRoaXMuX2Rhc2grXCJweCxcIit0aGlzLl9sZW5ndGgrXCJweFwiKX19KSxuLmdldExlbmd0aD1yLG4uZ2V0UG9zaXRpb249c30pLF9nc1Njb3BlLl9nc0RlZmluZSYmX2dzU2NvcGUuX2dzUXVldWUucG9wKCkoKTsiLCIvKipcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRXZlbnREaXNwYXRjaGVyKCkge31cblxuT2JqZWN0LmFzc2lnbihFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLCB7XG5cdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcblx0XHRpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXG5cdFx0Y29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG5cdFx0aWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRsaXN0ZW5lcnNbdHlwZV0gPSBbXTtcblx0XHR9XG5cblx0XHRpZiAobGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuXHRcdFx0bGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdH1cblx0fSxcblxuXHRoYXNFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG5cdFx0aWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG5cdFx0Y29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXHRcdHJldHVybiBsaXN0ZW5lcnNbdHlwZV0gIT09IHVuZGVmaW5lZCAmJiBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcikgIT09IC0xO1xuXHR9LFxuXG5cdHJlbW92ZUxpc3RlbmVycygpIHtcblx0XHR0aGlzLl9saXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cdH0sXG5cblx0cmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuXHRcdGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRcdGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcblx0XHRjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW3R5cGVdO1xuXG5cdFx0aWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBsaXN0ZW5lckFycmF5LmluZGV4T2YobGlzdGVuZXIpO1xuXG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdGxpc3RlbmVyQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2hFdmVudChldmVudCkge1xuXHRcdGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRcdGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcblx0XHRjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdO1xuXG5cdFx0aWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gdGhpcztcblx0XHRcdGNvbnN0IGFycmF5ID0gbGlzdGVuZXJBcnJheS5zbGljZSgwKTtcblx0XHRcdGZvciAobGV0IGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdGFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxufSk7XG4iLCJmdW5jdGlvbiBkZXRlY3RJRSgpIHtcblx0dmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIFxuXHQvLyBUZXN0IHZhbHVlczsgVW5jb21tZW50IHRvIGNoZWNrIHJlc3VsdCDigKZcbiAgXG5cdC8vIElFIDEwXG5cdC8vIHVhID0gJ01vemlsbGEvNS4wIChjb21wYXRpYmxlOyBNU0lFIDEwLjA7IFdpbmRvd3MgTlQgNi4yOyBUcmlkZW50LzYuMCknO1xuXHRcblx0Ly8gSUUgMTFcblx0Ly8gdWEgPSAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4zOyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbyc7XG5cdFxuXHQvLyBFZGdlIDEyIChTcGFydGFuKVxuXHQvLyB1YSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzM5LjAuMjE3MS43MSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTIuMCc7XG5cdFxuXHQvLyBFZGdlIDEzXG5cdC8vIHVhID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80Ni4wLjI0ODYuMCBTYWZhcmkvNTM3LjM2IEVkZ2UvMTMuMTA1ODYnO1xuICBcblx0dmFyIG1zaWUgPSB1YS5pbmRleE9mKCdNU0lFICcpO1xuXHRpZiAobXNpZSA+IDApIHtcblx0ICAvLyBJRSAxMCBvciBvbGRlciA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcblx0ICByZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKG1zaWUgKyA1LCB1YS5pbmRleE9mKCcuJywgbXNpZSkpLCAxMCk7XG5cdH1cbiAgXG5cdHZhciB0cmlkZW50ID0gdWEuaW5kZXhPZignVHJpZGVudC8nKTtcblx0aWYgKHRyaWRlbnQgPiAwKSB7XG5cdCAgLy8gSUUgMTEgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXG5cdCAgdmFyIHJ2ID0gdWEuaW5kZXhPZigncnY6Jyk7XG5cdCAgcmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhydiArIDMsIHVhLmluZGV4T2YoJy4nLCBydikpLCAxMCk7XG5cdH1cbiAgXG5cdHZhciBlZGdlID0gdWEuaW5kZXhPZignRWRnZS8nKTtcblx0aWYgKGVkZ2UgPiAwKSB7XG5cdCAgLy8gRWRnZSAoSUUgMTIrKSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcblx0ICByZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKGVkZ2UgKyA1LCB1YS5pbmRleE9mKCcuJywgZWRnZSkpLCAxMCk7XG5cdH1cbiAgXG5cdC8vIG90aGVyIGJyb3dzZXJcblx0cmV0dXJuIGZhbHNlO1xuICB9XG5cbmV4cG9ydCBjb25zdCBpc0lFID0gZGV0ZWN0SUUoKTsiXX0="}